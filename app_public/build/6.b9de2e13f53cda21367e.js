(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Wn2y:function(t,e,n){"use strict";n.r(e),n.d(e,"WordsModule",(function(){return M}));var r=n("ofXK"),i=n("tyNb"),o=n("fXoL"),s=n("ej43"),b=n("N+FS"),c=n("3Pt+");function a(t,e){if(1&t&&(o.Kb(0,"div",15),o.ac(1),o.Jb()),2&t){const t=o.Tb();o.xb(1),o.cc(" ",t.formError," ")}}function d(t,e){if(1&t&&(o.Kb(0,"option",16),o.ac(1),o.Jb()),2&t){const t=e.$implicit;o.Ub("value",t),o.xb(1),o.bc(t)}}function h(t,e){if(1&t&&(o.Kb(0,"option",16),o.ac(1),o.Jb()),2&t){const t=e.$implicit;o.Ub("value",t),o.xb(1),o.bc(t)}}let l=(()=>{class t{constructor(t,e){this.authService=t,this.wordService=e,this.viewModel={exCount:[10,20,30,40,50],rptCount:[1,2,3,4]},this.model={exCount:10,rptCount:3},this.formError=""}ngOnInit(){this.user=this.authService.getCurrentUser()}SetExCount(){}SetRptCount(){}onSubmit(){this.wordService.getWords(this.user.email,this.model.exCount,this.model.rptCount,this.user.grade).then(t=>{const e=t.map(t=>({wdId:t.wdId,eng:t.eng,chi:t.chi,grade:t.grade}));this.authService.removePrjItem("exWords")&&setTimeout(()=>{this.authService.setPrjItem("exWords",JSON.stringify(e)),this.formError="\u8a2d\u5b9a\u5b8c\u6210"},100)}).catch(t=>{this.formError=t})}jobDone(){this.wordService.setWords(this.user.email).then(t=>{t.ok&&(this.formError="\u5b8c\u6210\uff0c\u7e7c\u7e8c\u4e0b\u6279\u7df4\u7fd2")})}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(s.a),o.Hb(b.a))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-settingpage"]],decls:25,vars:5,consts:[[1,"mainDiv"],[3,"ngSubmit"],["queryForm","ngForm"],["role","alert","class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["id","exCount","required","","name","exCount",1,"col-12","form-control","ctrlColor",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","rptCount","required","","name","rptCount",1,"col-12","form-control","ctrlColor",3,"ngModel","ngModelChange"],[1,"row","fMargin"],[1,"col-12"],["role","group","aria-label","\u529f\u80fd",1,"btn-group"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",2,"margin-left","100px",3,"click"],["role","alert",1,"alert","alert-danger"],[3,"value"]],template:function(t,e){1&t&&(o.Kb(0,"div",0),o.Kb(1,"h2"),o.ac(2,"\u7df4\u7fd2\u8a2d\u5b9a"),o.Jb(),o.Kb(3,"form",1,2),o.Rb("ngSubmit",(function(){return e.onSubmit()})),o.Zb(5,a,2,1,"div",3),o.Kb(6,"div",4),o.Kb(7,"div",5),o.Kb(8,"span",6),o.ac(9,"\u7df4\u7fd2\u5b57\u6578\uff1a"),o.Jb(),o.Jb(),o.Kb(10,"select",7),o.Rb("ngModelChange",(function(t){return e.model.exCount=t})),o.Zb(11,d,2,2,"option",8),o.Jb(),o.Jb(),o.Kb(12,"div",4),o.Kb(13,"div",5),o.Kb(14,"span",6),o.ac(15,"\u7df4\u7fd2\u6b21\u6578\uff1a"),o.Jb(),o.Jb(),o.Kb(16,"select",9),o.Rb("ngModelChange",(function(t){return e.model.rptCount=t})),o.Zb(17,h,2,2,"option",8),o.Jb(),o.Jb(),o.Kb(18,"div",10),o.Kb(19,"div",11),o.Ib(20,"div",12),o.Kb(21,"button",13),o.ac(22,"\u8a2d\u5b9a"),o.Jb(),o.Kb(23,"button",14),o.Rb("click",(function(){return e.jobDone()})),o.ac(24,"\u7df4\u7fd2\u5b8c\u6210"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&t&&(o.xb(5),o.Ub("ngIf",e.formError),o.xb(5),o.Ub("ngModel",e.model.exCount),o.xb(1),o.Ub("ngForOf",e.viewModel.exCount),o.xb(5),o.Ub("ngModel",e.model.rptCount),o.xb(1),o.Ub("ngForOf",e.viewModel.rptCount))},directives:[c.m,c.e,c.f,r.i,c.k,c.j,c.d,c.g,r.h,c.h,c.l],styles:[""]}),t})();function u(t,e){if(1&t&&(o.Kb(0,"tr"),o.Kb(1,"td",3),o.Kb(2,"span",8),o.ac(3),o.Jb(),o.Jb(),o.Jb()),2&t){const t=o.Tb();o.xb(3),o.bc(t.message)}}function g(t,e){if(1&t&&(o.Kb(0,"tr"),o.Kb(1,"td",9),o.Kb(2,"span"),o.ac(3),o.Jb(),o.Jb(),o.Kb(4,"td",10),o.Kb(5,"span",11),o.ac(6),o.Jb(),o.Jb(),o.Jb()),2&t){const t=o.Tb();o.xb(3),o.dc("",t.wIndex,"/",t.wordAry.length,""),o.xb(3),o.dc("",t.rptCount,"/",t.totalRpt," ")}}function p(t,e){1&t&&(o.Kb(0,"div",12),o.Kb(1,"div",1),o.Kb(2,"table",2),o.Kb(3,"tr"),o.Kb(4,"td",9),o.Kb(5,"button",13),o.ac(6,"\u8a2d\u5b9a"),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb())}let f=(()=>{class t{constructor(t){this.authService=t,this.wIndex=1,this.totalRpt="3",this.rptCount=1,this.message="",this.wordAry=JSON.parse(t.getPrjItem("exWords")),this.totalRpt=this.authService.getPrjItem("repCount")}ngOnInit(){this.utterThis=new SpeechSynthesisUtterance,this.utterThis.lang="en-US",this.utterThis.rate=.9,this.utterThis.pitch=1,this.checkSuport(),this.reset()}checkSuport(){this.message=speechSynthesis?"\u700f\u89bd\u5668\u652f\u63f4\u82f1\u6587\u767c\u97f3":"\u700f\u89bd\u5668\u652f\u63f4\u82f1\u6587\u767c\u97f3\uff0c\u6539\u7528Chrome"}speakEng(){this.currentWord?(this.utterThis.text=this.currentWord.eng,speechSynthesis.speak(this.utterThis)):this.message=this.wIndex.toString()}reset(){this.wIndex=1,this.currentWord=this.wordAry[this.wIndex-1],this.total=this.wordAry.length,this.speakEng()}onKeydown(t){"Enter"===t.key?this.onEnter():"Escape"===t.key&&(this.wIndex++,this.rptCount=1,this.currentWord=this.wordAry[this.wIndex-1],this.speakEng(),this.message="",this.wIndex>this.wordAry.length&&(this.message="\u7df4\u7fd2\u5b8c\u6210",this.reset()))}onEnter(){this.message=this.exWord===this.currentWord.eng?"\u6b63\u78ba":"\u932f\u8aa4",this.rptCount.toString()===this.totalRpt?(this.rptCount=1,this.wIndex++,this.currentWord=this.wordAry[this.wIndex-1],this.speakEng()):(this.rptCount++,this.speakEng()),this.wIndex>this.wordAry.length&&(this.message="\u7df4\u7fd2\u5b8c\u6210",this.reset()),this.exWord="",console.log(this.exWord)}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(s.a))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-wordspell"]],decls:22,vars:6,consts:[[1,"mainDiv"],[1,"row"],[1,"col-12"],[1,"center"],[4,"ngIf"],["type","text",1,"mainWord",3,"ngModel","ngModelChange","keydown"],["id","tDiv",1,"col-12"],["class","navbar fixed-bottom foot2nd",4,"ngIf"],[1,"alert","alert-danger"],[1,"left"],[1,"right"],[1,"justify-content-end"],[1,"navbar","fixed-bottom","foot2nd"],["type","button",1,"btn","btn-success"]],template:function(t,e){1&t&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Kb(2,"table",2),o.Kb(3,"tr"),o.Kb(4,"td",3),o.Kb(5,"h2"),o.ac(6,"\u82f1\u6587\u55ae\u5b57\u7df4\u7fd2"),o.Jb(),o.Jb(),o.Jb(),o.Zb(7,u,4,1,"tr",4),o.Zb(8,g,7,4,"tr",4),o.Kb(9,"tr"),o.Kb(10,"td",3),o.Kb(11,"h4"),o.ac(12),o.Jb(),o.Jb(),o.Jb(),o.Kb(13,"tr"),o.Kb(14,"td",3),o.Kb(15,"h4"),o.ac(16),o.Jb(),o.Jb(),o.Jb(),o.Kb(17,"tr"),o.Kb(18,"td",3),o.Kb(19,"input",5),o.Rb("ngModelChange",(function(t){return e.exWord=t}))("keydown",(function(t){return e.onKeydown(t)})),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Ib(20,"div",6),o.Jb(),o.Zb(21,p,7,0,"div",7),o.Jb()),2&t&&(o.xb(7),o.Ub("ngIf",e.message),o.xb(1),o.Ub("ngIf",e.wordAry),o.xb(4),o.bc(e.currentWord.eng),o.xb(4),o.bc(e.currentWord.chi),o.xb(3),o.Ub("ngModel",e.exWord),o.xb(2),o.Ub("ngIf",!1))},directives:[r.i,c.b,c.d,c.g],styles:[".left[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.right[_ngcontent-%COMP%]{text-align:right;padding-right:15px}.center[_ngcontent-%COMP%]{text-align:center}tr[_ngcontent-%COMP%]{margin-top:10px}.foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.showOk[_ngcontent-%COMP%]{padding-left:50px}.mainWord[_ngcontent-%COMP%]{margin-top:50px}"]}),t})();var m=n("XNiG");function w(t,e){if(1&t&&(o.Kb(0,"tr"),o.Kb(1,"td",3),o.Kb(2,"span",8),o.ac(3),o.Jb(),o.Jb(),o.Jb()),2&t){const t=o.Tb();o.xb(3),o.bc(t.message)}}function x(t,e){if(1&t&&(o.Kb(0,"tr"),o.Kb(1,"td",6),o.Kb(2,"span"),o.ac(3),o.Jb(),o.Jb(),o.Kb(4,"td",9),o.Kb(5,"span",10),o.ac(6),o.Jb(),o.Jb(),o.Jb()),2&t){const t=o.Tb();o.xb(3),o.dc("",t.wIndex,"/",t.wordAry.length,""),o.xb(3),o.dc("",t.rptCount,"/",t.totalRpt," ")}}function y(t,e){if(1&t&&(o.Kb(0,"div",16),o.ac(1),o.Jb()),2&t){const t=o.Tb();o.xb(1),o.cc(" ",t.message," ")}}function J(t,e){if(1&t&&(o.Kb(0,"option",17),o.ac(1),o.Jb()),2&t){const t=e.$implicit;o.Ub("value",t),o.xb(1),o.bc(t)}}function K(t,e){if(1&t&&(o.Kb(0,"option"),o.ac(1),o.Jb()),2&t){const t=e.$implicit;o.xb(1),o.bc(t.eng)}}function v(t,e){if(1&t&&(o.Kb(0,"div",3),o.Kb(1,"div",4),o.Kb(2,"span",5),o.ac(3,"\u5b57\u5eab\uff1a"),o.Jb(),o.Jb(),o.Kb(4,"select",18),o.Zb(5,K,2,1,"option",19),o.Jb(),o.Jb()),2&t){const t=o.Tb();o.xb(5),o.Ub("ngForOf",t.wordAry)}}function W(t,e){if(1&t){const t=o.Lb();o.Kb(0,"button",20),o.Rb("click",(function(){return o.Wb(t),o.Tb().Add2List()})),o.ac(1,"\u52a0\u5165"),o.Jb()}}function C(t,e){if(1&t){const t=o.Lb();o.Kb(0,"button",21),o.Rb("click",(function(){return o.Wb(t),o.Tb().Save2Local()})),o.ac(1,"\u5132\u5b58"),o.Jb()}}const I=[{path:"",component:l},{path:"spellex",component:f},{path:"autospell",component:(()=>{class t{constructor(t){this.authService=t,this.wIndex=1,this.totalRpt="3",this.rptCount=1,this.message="",this.charDelayTime=1100,this.wordAry=JSON.parse(t.getPrjItem("exWords")),this.totalRpt=this.authService.getPrjItem("repCount"),this.currentWord=this.wordAry[this.wIndex-1],this.playSubject=new m.a}ngOnInit(){this.initBoy(),this.initGirl(),this.initTW()}initTW(){this.utterTW=new SpeechSynthesisUtterance,this.utterTW.lang="zh-TW",this.utterTW.rate=.9,this.utterTW.pitch=1}initBoy(){this.utterboy=new SpeechSynthesisUtterance,this.utterboy.lang="en-US",this.utterboy.rate=1,this.utterboy.pitch=1}initGirl(){this.uttergirl=new SpeechSynthesisUtterance,this.utterboy.lang="en-US",this.uttergirl.rate=1,this.uttergirl.pitch=1}playWord(){this.currentWord&&(this.charDelayTime=this.currentWord.eng.length>10?1300:1100,this.speakEng(this.currentWord.eng,this.currentWord.eng.length%2),setTimeout(()=>{this.playChar(this.currentWord.eng)},this.charDelayTime))}playChar(t){if(t.length>0){const e=t.substr(0,1);this.speakEng(e,t.length%2),t.length>1?setTimeout(()=>{const n=t.substr(1);console.log(`${e}  ${n}`),this.playChar(n)},this.charDelayTime):(this.utterTW.text=this.currentWord.chi,speechSynthesis.speak(this.utterTW),setTimeout(()=>{this.rptCount++,this.rptCount>parseInt(this.totalRpt)&&(this.wIndex++,this.rptCount=1),this.wIndex<=this.wordAry.length?(this.currentWord=this.wordAry[this.wIndex-1],this.playWord()):(this.wIndex=1,this.currentWord=this.wordAry[this.wIndex-1],this.message="\u64a5\u653e\u5b8c\u7562")},7e3))}}speakEng(t,e){t&&(this.utterboy.text=t,speechSynthesis.speak(this.utterboy))}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(s.a))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-autospell"]],decls:21,vars:4,consts:[[1,"mainDiv"],[1,"row"],[1,"col-12"],[1,"center"],[4,"ngIf"],[1,"navbar","fixed-bottom","foot2nd"],[1,"left"],["type","button",1,"btn","btn-success",3,"click"],[1,"alert","alert-danger"],[1,"right"],[1,"justify-content-end"]],template:function(t,e){1&t&&(o.Kb(0,"div",0),o.Kb(1,"div",1),o.Kb(2,"table",2),o.Kb(3,"tr"),o.Kb(4,"td",3),o.Kb(5,"h2"),o.ac(6,"\u82f1\u6587\u55ae\u5b57\u81ea\u52d5\u64a5\u653e"),o.Jb(),o.Jb(),o.Jb(),o.Zb(7,w,4,1,"tr",4),o.Zb(8,x,7,4,"tr",4),o.Kb(9,"tr"),o.Kb(10,"td",3),o.Kb(11,"h4"),o.ac(12),o.Jb(),o.Jb(),o.Jb(),o.Kb(13,"tr"),o.Kb(14,"td",3),o.Kb(15,"h4"),o.ac(16),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Jb(),o.Kb(17,"div",5),o.Kb(18,"td",6),o.Kb(19,"button",7),o.Rb("click",(function(){return e.playWord()})),o.ac(20,"\u81ea\u52d5\u64a5\u653e"),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&t&&(o.xb(7),o.Ub("ngIf",e.message),o.xb(1),o.Ub("ngIf",e.wordAry),o.xb(4),o.bc(e.currentWord.eng),o.xb(4),o.bc(e.currentWord.chi))},directives:[r.i],styles:[".foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.left[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.right[_ngcontent-%COMP%]{text-align:right;padding-right:15px}.center[_ngcontent-%COMP%]{text-align:center;overflow-wrap:normal}"]}),t})()},{path:"selfwordset",component:(()=>{class t{constructor(t,e){this.authService=t,this.wordService=e,this.wordData=[],this.lastkeydown1=0,this.newWord={wdId:"",eng:"",chi:"",grade:""},this.wordAry=[]}ngOnInit(){this.lastkeydown1=(new Date).getTime(),console.log(this.newWord)}getAutoWords(t){this.wordService.getAutoComp(t).subscribe(t=>{this.retObj=t,Object.assign(this.wordData,this.retObj.ary)},t=>{console.log("Something wrong here",t)})}getWordIdsFirstWay(t){this.wordList1=[];const e=this.newWord.eng;if(0==e.length)return!1;1==e.length&&this.getAutoWords(e),e.length>1&&this.lastkeydown1-t.timeStamp>200&&(this.wordList1=this.searchFromArray(this.wordData,e))}searchFromArray(t,e){let n,r=[];for(n=0;n<t.length;n++)t[n].match(e)&&r.push(t[n]);return r}onBlur(){this.wordService.getAWord(this.newWord.eng).subscribe(t=>{const{row:e}=t;this.newWord=e,this.message=this.newWord.chi})}Add2List(){this.wordAry.push(this.newWord),this.newWord={wdId:"",eng:"",chi:"",grade:""}}Save2Local(){this.authService.setPrjItem("exWords",JSON.stringify(this.wordAry))}}return t.\u0275fac=function(e){return new(e||t)(o.Hb(s.a),o.Hb(b.a))},t.\u0275cmp=o.Bb({type:t,selectors:[["app-selfwords"]],decls:24,vars:7,consts:[[1,"mainDiv"],["queryForm","ngForm"],["role","alert","class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","id","WordIdFirstWay","list","dynmicWordIds","name","WordIdFirstWay","autocomplete","off",1,"form-control",3,"ngModel","blur","keyup","ngModelChange"],["id","dynmicWordIds"],[3,"value",4,"ngFor","ngForOf"],["id","chi","name","chi","rows","3 ",1,"form-control",3,"ngModel","ngModelChange"],["class","input-group fMargin ",4,"ngIf"],[1,"navbar","fixed-bottom","foot2nd"],[1,"row"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","class","btn btn-success","title","\u52a0\u5165\u5b57\u5eab",3,"click",4,"ngIf"],["type","button","class","btn btn-success","title","\u52a0\u5165\u672c\u6b21\u5b57\u5eab\uff0c\u4e0a\u6b21\u5132\u5b58\u4e4b\u5b57\u5eab\u6703\u88ab\u6e05\u9664",3,"click",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[3,"value"],[1,"form-control"],[4,"ngFor","ngForOf"],["type","button","title","\u52a0\u5165\u5b57\u5eab",1,"btn","btn-success",3,"click"],["type","button","title","\u52a0\u5165\u672c\u6b21\u5b57\u5eab\uff0c\u4e0a\u6b21\u5132\u5b58\u4e4b\u5b57\u5eab\u6703\u88ab\u6e05\u9664",1,"btn","btn-success",3,"click"]],template:function(t,e){1&t&&(o.Kb(0,"div",0),o.Kb(1,"h2"),o.ac(2,"\u82f1\u6587\u55ae\u5b57\u81ea\u5df1\u8f38\u5165"),o.Jb(),o.Kb(3,"form",null,1),o.Zb(5,y,2,1,"div",2),o.Kb(6,"div",3),o.Kb(7,"div",4),o.Kb(8,"span",5),o.ac(9,"\u82f1\u6587\uff1a"),o.Jb(),o.Jb(),o.Kb(10,"input",6),o.Rb("blur",(function(){return e.onBlur()}))("keyup",(function(t){return e.getWordIdsFirstWay(t)}))("ngModelChange",(function(t){return e.newWord.eng=t})),o.Jb(),o.Kb(11,"datalist",7),o.Zb(12,J,2,2,"option",8),o.Jb(),o.Jb(),o.Kb(13,"div",3),o.Kb(14,"div",4),o.Kb(15,"span",5),o.ac(16,"\u4e2d\u6587\uff1a"),o.Jb(),o.Jb(),o.Kb(17,"textarea",9),o.Rb("ngModelChange",(function(t){return e.newWord.chi=t})),o.Jb(),o.Jb(),o.Zb(18,v,6,1,"div",10),o.Jb(),o.Kb(19,"div",11),o.Kb(20,"div",12),o.Kb(21,"div",13),o.Zb(22,W,2,0,"button",14),o.Zb(23,C,2,0,"button",15),o.Jb(),o.Jb(),o.Jb(),o.Jb()),2&t&&(o.xb(5),o.Ub("ngIf",e.message),o.xb(5),o.Ub("ngModel",e.newWord.eng),o.xb(2),o.Ub("ngForOf",e.wordList1),o.xb(5),o.Ub("ngModel",e.newWord.chi),o.xb(1),o.Ub("ngIf",e.wordAry.length>0),o.xb(4),o.Ub("ngIf",e.newWord.chi),o.xb(1),o.Ub("ngIf",e.wordAry.length>0))},directives:[c.m,c.e,c.f,r.i,c.b,c.d,c.g,r.h,c.h,c.l],styles:[".foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.left[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.right[_ngcontent-%COMP%]{text-align:right;padding-right:15px}.center[_ngcontent-%COMP%]{text-align:center;overflow-wrap:normal}.clm1[_ngcontent-%COMP%]{width:30%}.clm2[_ngcontent-%COMP%]{width:70%}.full[_ngcontent-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]{padding:0 12px;margin:0 5px}"]}),t})()}];let S=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[i.e.forChild(I)],i.e]}),t})(),M=(()=>{class t{}return t.\u0275mod=o.Fb({type:t}),t.\u0275inj=o.Eb({factory:function(e){return new(e||t)},imports:[[r.b,S,c.c,c.i]]}),t})()}}]);