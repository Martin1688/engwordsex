"use strict";(self.webpackChunkengwordsex_public=self.webpackChunkengwordsex_public||[]).push([[381],{3381:(Tt,g,l)=>{l.r(g),l.d(g,{WordsModule:()=>At});var u=l(6895),p=l(6773),t=l(8256),h=l(812),d=l(1756),c=l(433);function _(n,i){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.formError," ")}}function f(n,i){if(1&n&&(t.TgZ(0,"option",12),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function m(n,i){if(1&n&&(t.TgZ(0,"option",12),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function x(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14),t._UZ(2,"div",15),t.TgZ(3,"button",16),t._uU(4,"\u8a2d\u5b9a"),t.qZA(),t.TgZ(5,"button",17),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.jobDone())}),t._uU(6,"\u7df4\u7fd2\u5b8c\u6210"),t.qZA()()()}}let C=(()=>{class n{constructor(e,r,s){this.router=e,this.authService=r,this.wordService=s,this.viewModel={exCount:[10,20,30,40,50],rptCount:[1,2,3,4]},this.model={exCount:10,rptCount:3},this.formError=""}ngOnInit(){this.authService.isLoggedIn()||this.router.navigateByUrl("/general/login"),this.user=this.authService.getCurrentUser()}SetExCount(){}SetRptCount(){}onSubmit(){this.wordService.getWords(this.user.email,this.model.exCount,this.model.rptCount,this.user.grade).then(e=>{const r=e.map(s=>({wdId:s.wdId,eng:s.eng,chi:s.chi,grade:s.grade}));this.authService.removePrjItem("exWords")&&setTimeout(()=>{this.authService.setPrjItem("exWords",JSON.stringify(r)),this.formError="\u8a2d\u5b9a\u5b8c\u6210"},100)}).catch(e=>{this.formError=e})}jobDone(){this.wordService.setWords(this.user.email).then(e=>{e.ok&&(this.formError="\u5b8c\u6210\uff0c\u7e7c\u7e8c\u4e0b\u6279\u7df4\u7fd2")})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0),t.Y36(h.$),t.Y36(d.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-settingpage"]],decls:19,vars:6,consts:[[1,"mainDiv"],[3,"ngSubmit"],["queryForm","ngForm"],["role","alert","class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["id","exCount","required","","name","exCount",1,"col-12","form-control","ctrlColor",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["id","rptCount","required","","name","rptCount",1,"col-12","form-control","ctrlColor",3,"ngModel","ngModelChange"],["class","row fMargin",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[3,"value"],[1,"row","fMargin"],[1,"col-12"],["role","group","aria-label","\u529f\u80fd",1,"btn-group"],["type","submit",1,"btn","btn-primary"],["type","button",1,"btn","btn-primary",2,"margin-left","100px",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"\u7df4\u7fd2\u8a2d\u5b9a"),t.qZA(),t.TgZ(3,"form",1,2),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.YNc(5,_,2,1,"div",3),t.TgZ(6,"div",4)(7,"div",5)(8,"span",6),t._uU(9,"\u7df4\u7fd2\u5b57\u6578\uff1a"),t.qZA()(),t.TgZ(10,"select",7),t.NdJ("ngModelChange",function(o){return r.model.exCount=o}),t.YNc(11,f,2,2,"option",8),t.qZA()(),t.TgZ(12,"div",4)(13,"div",5)(14,"span",6),t._uU(15,"\u7df4\u7fd2\u6b21\u6578\uff1a"),t.qZA()(),t.TgZ(16,"select",9),t.NdJ("ngModelChange",function(o){return r.model.rptCount=o}),t.YNc(17,m,2,2,"option",8),t.qZA()(),t.YNc(18,x,7,0,"div",10),t.qZA()()),2&e&&(t.xp6(5),t.Q6J("ngIf",r.formError),t.xp6(5),t.Q6J("ngModel",r.model.exCount),t.xp6(1),t.Q6J("ngForOf",r.viewModel.exCount),t.xp6(5),t.Q6J("ngModel",r.model.rptCount),t.xp6(1),t.Q6J("ngForOf",r.viewModel.rptCount),t.xp6(1),t.Q6J("ngIf",r.user))},dependencies:[u.sg,u.O5,c._Y,c.YN,c.Kr,c.EJ,c.JJ,c.JL,c.Q7,c.On,c.F]}),n})();function w(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",12),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.message)}}function A(n,i){if(1&n&&(t.TgZ(0,"tr",13)(1,"td",14)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"td",15)(5,"span",16),t._uU(6),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.AsE("",e.wIndex,"/",e.wordAry.length,""),t.xp6(3),t.AsE("",e.rptCount,"/",e.totalRpt," ")}}function T(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",3)(2,"h4"),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.currentWord.sentence)}}function b(n,i){1&n&&(t.TgZ(0,"div",17)(1,"div",1)(2,"table",2)(3,"tr")(4,"td",14)(5,"button",18),t._uU(6,"\u8a2d\u5b9a"),t.qZA()()()()()())}let y=(()=>{class n{constructor(e,r){this.router=e,this.authService=r,this.wIndex=1,this.totalRpt="3",this.rptCount=1,this.message="",this.wordAry=JSON.parse(r.getPrjItem("exWords")),this.totalRpt=this.authService.getPrjItem("repCount")}ngOnInit(){this.authService.isLoggedIn()||this.router.navigateByUrl("/general/login"),this.utterThis=new SpeechSynthesisUtterance,this.utterThis.lang="en-US",this.utterThis.rate=.9,this.utterThis.pitch=1,this.checkSuport(),this.reset()}checkSuport(){this.message=speechSynthesis?"\u700f\u89bd\u5668\u652f\u63f4\u82f1\u6587\u767c\u97f3":"\u700f\u89bd\u5668\u4e0d\u652f\u63f4\u82f1\u6587\u767c\u97f3\uff0c\u6539\u7528Chrome"}speakEng(){this.currentWord?(this.utterThis.text=this.currentWord.eng,speechSynthesis.speak(this.utterThis)):this.message=this.wIndex.toString()}reset(){this.wIndex=1,this.currentWord=this.wordAry[this.wIndex-1],this.total=this.wordAry.length,this.speakEng()}onKeydown(e){"Enter"===e.key?this.onEnter():"Escape"===e.key&&(this.wIndex++,this.rptCount=1,this.currentWord=this.wordAry[this.wIndex-1],this.speakEng(),this.message="",this.wIndex>this.wordAry.length&&(this.message="\u7df4\u7fd2\u5b8c\u6210",this.reset()))}onEnter(){this.message=this.exWord===this.currentWord.eng?"\u6b63\u78ba":"\u932f\u8aa4",this.rptCount.toString()===this.totalRpt?(this.rptCount=1,this.wIndex++,this.currentWord=this.wordAry[this.wIndex-1],this.speakEng()):(this.rptCount++,this.speakEng()),this.wIndex>this.wordAry.length&&(this.message="\u7df4\u7fd2\u5b8c\u6210",this.reset()),this.exWord="",console.log(this.exWord)}repeat(){this.currentWord&&(this.utterThis.text=this.currentWord.eng,speechSynthesis.speak(this.utterThis))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0),t.Y36(h.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-wordspell"]],decls:24,vars:7,consts:[[1,"mainDiv"],[1,"row"],[1,"col-12"],[1,"center","rowSpace"],[4,"ngIf"],["class","rowSpace",4,"ngIf"],[2,"font-size","xx-large"],["src","../../../../assets/image/speaker.png",3,"click"],[1,"center"],["type","text","autocapitalize","none",1,"mainWord",3,"ngModel","ngModelChange","keydown"],["id","tDiv",1,"col-12"],["class","navbar fixed-bottom foot2nd",4,"ngIf"],[1,"alert","alert-danger"],[1,"rowSpace"],[1,"left"],[1,"right"],[1,"justify-content-end"],[1,"navbar","fixed-bottom","foot2nd"],["type","button",1,"btn","btn-success"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"tr")(4,"td",3)(5,"h2"),t._uU(6,"\u82f1\u6587\u55ae\u5b57\u7df4\u7fd2"),t.qZA()()(),t.YNc(7,w,4,1,"tr",4),t.YNc(8,A,7,4,"tr",5),t.TgZ(9,"tr")(10,"td",3)(11,"span",6)(12,"img",7),t.NdJ("click",function(){return r.repeat()}),t.qZA(),t._uU(13),t.qZA()()(),t.TgZ(14,"tr")(15,"td",3)(16,"h4"),t._uU(17),t.qZA()()(),t.YNc(18,T,4,1,"tr",4),t.TgZ(19,"tr")(20,"td",8)(21,"input",9),t.NdJ("ngModelChange",function(o){return r.exWord=o})("keydown",function(o){return r.onKeydown(o)}),t.qZA()()()(),t._UZ(22,"div",10),t.qZA(),t.YNc(23,b,7,0,"div",11),t.qZA()),2&e&&(t.xp6(7),t.Q6J("ngIf",r.message),t.xp6(1),t.Q6J("ngIf",r.wordAry),t.xp6(5),t.hij(" ",r.currentWord.eng,""),t.xp6(4),t.Oqu(r.currentWord.chi),t.xp6(1),t.Q6J("ngIf",r.currentWord.sentence),t.xp6(3),t.Q6J("ngModel",r.exWord),t.xp6(2),t.Q6J("ngIf",!1))},dependencies:[u.O5,c.Fj,c.JJ,c.On],styles:[".left[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.right[_ngcontent-%COMP%]{text-align:right;padding-right:15px}.center[_ngcontent-%COMP%]{text-align:center}tr[_ngcontent-%COMP%]{margin-top:10px}.foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.showOk[_ngcontent-%COMP%]{padding-left:50px}.mainWord[_ngcontent-%COMP%]{margin-top:50px;border-radius:4px;background-color:#dcdcdc}.rowSpace[_ngcontent-%COMP%]{margin:10px;padding:10px}"]}),n})();function Z(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",11),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.message)}}function S(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",10)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"td",12)(5,"span",13),t._uU(6),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.AsE("",e.wIndex,"/",e.wordAry.length,""),t.xp6(3),t.AsE("",e.rptCount,"/",e.totalRpt," ")}}function W(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",3)(2,"h4"),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.currentWord.sentence)}}let I=(()=>{class n{constructor(e){this.authService=e,this.wIndex=1,this.totalRpt="3",this.rptCount=1,this.message="",this.charDelayTime=1100,this.iswork4Show=!1,this.iswork4ShowText="\u64ad\u653e",this.iswork=!1,this.btnSuspenseText="\u64ad\u653e",this.wordAry=JSON.parse(e.getPrjItem("exWords")),this.totalRpt=this.authService.getPrjItem("repCount"),this.currentWord=this.wordAry[this.wIndex-1]}ngOnInit(){this.initBoy(),this.initGirl(),this.initTW()}initTW(){this.utterTW=new SpeechSynthesisUtterance,this.utterTW.lang="zh-TW",this.utterTW.rate=.9,this.utterTW.pitch=1}initBoy(){this.utterboy=new SpeechSynthesisUtterance,this.utterboy.lang="en-US",this.utterboy.rate=1,this.utterboy.pitch=1}initGirl(){this.uttergirl=new SpeechSynthesisUtterance,this.uttergirl.lang="en-US",this.uttergirl.rate=1,this.uttergirl.pitch=1}playWord(){!this.iswork4Show||!this.iswork||this.currentWord&&setTimeout(()=>{this.spellEng()})}spellEng(){this.utterboy.text=this.currentWord.eng,speechSynthesis.speak(this.utterboy);let e="";const r=this.currentWord.eng;for(let s=0;s<r.length;s++)e+=r.charAt(s)+",";this.rptCount%2==0?(this.uttergirl.text=e,speechSynthesis.speak(this.uttergirl)):(this.utterboy.text=e,speechSynthesis.speak(this.utterboy)),this.utterTW.text=this.currentWord.chi,speechSynthesis.speak(this.utterTW),this.utterTW.onend=()=>{this.endFun()}}endFun(){this.rptCount<parseInt(this.totalRpt)?(this.rptCount=this.rptCount+1,document.getElementById("suspenseBtn").click(),setTimeout(()=>{document.getElementById("suspenseBtn").click()},1e3)):this.wIndex<this.wordAry.length?(this.wIndex=this.wIndex+1,this.rptCount=1,this.currentWord=this.wordAry[this.wIndex-1],document.getElementById("suspenseBtn").click(),setTimeout(()=>{document.getElementById("suspenseBtn").click()},1e3)):(this.wIndex=this.wIndex+1,this.rptCount=1,this.currentWord=this.wordAry[this.wIndex-1])}suspense(){this.iswork4Show=!this.iswork4Show,this.iswork4Show?(this.iswork4ShowText="\u66ab\u505c",this.playWord()):this.iswork4ShowText="\u64a5\u653e"}suspenseShow(){this.iswork=!this.iswork,this.iswork?(this.iswork4Show=this.iswork,this.btnSuspenseText="\u66ab\u505c",this.playWord()):this.btnSuspenseText="\u64a5\u653e"}dateStr(){const e=new Date;return("00"+(e.getMonth()+1).toString()).slice(-2)+"/"+("00"+e.getDate().toString()).slice(-2)+"/"+e.getFullYear()+" "+("00"+e.getHours().toString()).slice(-2)+":"+("00"+e.getMinutes().toString()).slice(-2)+":"+("00"+e.getSeconds().toString()).slice(-2)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-autospell"]],decls:28,vars:7,consts:[[1,"mainDiv"],[1,"row"],[1,"col-12"],[1,"center"],[4,"ngIf"],[1,"navbar","fixed-bottom","foot2nd"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","id","suspenseBtn","name","suspenseBtn",1,"btn","btn-success",2,"display","none",3,"click"],["type","button",1,"btn","btn-success",2,"display","none",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[1,"left"],[1,"alert","alert-danger"],[1,"right"],[1,"justify-content-end"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"tr")(4,"td",3)(5,"h2"),t._uU(6,"\u82f1\u6587\u55ae\u5b57\u81ea\u52d5\u64a5\u653e"),t.qZA()()(),t.YNc(7,Z,4,1,"tr",4),t.YNc(8,S,7,4,"tr",4),t.TgZ(9,"tr")(10,"td",3)(11,"h4"),t._uU(12),t.qZA()()(),t.TgZ(13,"tr")(14,"td",3)(15,"h4"),t._uU(16),t.qZA()()(),t.YNc(17,W,4,1,"tr",4),t.qZA()(),t.TgZ(18,"div",5)(19,"div",1)(20,"div",6)(21,"button",7),t.NdJ("click",function(){return r.suspense()}),t._uU(22,"\u81ea\u52d5\u64a5\u653e"),t.qZA(),t.TgZ(23,"button",8),t.NdJ("click",function(){return r.suspense()}),t._uU(24),t.qZA(),t.TgZ(25,"button",9),t.NdJ("click",function(){return r.suspenseShow()}),t._uU(26),t.qZA()()(),t._UZ(27,"td",10),t.qZA()()),2&e&&(t.xp6(7),t.Q6J("ngIf",r.message),t.xp6(1),t.Q6J("ngIf",r.wordAry),t.xp6(4),t.Oqu(r.currentWord.eng),t.xp6(4),t.Oqu(r.currentWord.chi),t.xp6(1),t.Q6J("ngIf",r.currentWord.sentence),t.xp6(7),t.Oqu(r.iswork4ShowText),t.xp6(2),t.Oqu(r.btnSuspenseText))},dependencies:[u.O5],styles:[".foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.left[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.right[_ngcontent-%COMP%]{text-align:right;padding-right:15px}.center[_ngcontent-%COMP%]{text-align:center;overflow-wrap:normal}"]}),n})();function v(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"(\u624b\u6a5f)"),t.qZA())}function k(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",16),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.message="")}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.message," ")}}function F(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"li",18),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.itemSelected(o))}),t._uU(1),t.qZA()}if(2&n){const e=i.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function q(n,i){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,F,2,2,"li",17),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.wordList1)}}function M(n,i){if(1&n&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e.eng)}}function O(n,i){if(1&n&&(t.TgZ(0,"div",4)(1,"div",5)(2,"span",6),t._uU(3,"\u5b57\u5eab\uff1a"),t.qZA()(),t.TgZ(4,"select",19),t.YNc(5,M,2,1,"option",20),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngForOf",e.wordAry)}}function J(n,i){if(1&n&&(t.TgZ(0,"option"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}function U(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"span",6),t._uU(3,"\u4f8b\u53e5\uff1a"),t.qZA()(),t.TgZ(4,"select",21),t.NdJ("ngModelChange",function(s){t.CHM(e);const o=t.oxw();return t.KtG(o.newWord.sentence=s)}),t.YNc(5,J,2,1,"option",20),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.newWord.sentence),t.xp6(1),t.Q6J("ngForOf",e.sentenceAry)}}function E(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.Add2List())}),t._uU(1,"\u52a0\u5165"),t.qZA()}}function N(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",23),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.Save2Local())}),t._uU(1,"\u5132\u5b58"),t.qZA()}}let B=(()=>{class n{constructor(e,r){this.authService=e,this.wordService=r,this.wordData=[],this.lastkeydown1=0,this.newWord={wdId:"",eng:"",chi:"",grade:"",sentence:""},this.wordAry=[],this.sentenceAry=[],this.isMobile=!1}ngOnInit(){this.lastkeydown1=(new Date).getTime(),this.isMobile=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}getAutoWords(e){this.isMobile||this.wordService.getAutoComp(e).subscribe(r=>{this.retObj=r,Object.assign(this.wordData,this.retObj.ary)},r=>{console.log("Something wrong here",r)})}getWordIdsFirstWay(e){if(this.isMobile)return;if("Enter"===e.key)return;this.wordList1=[];const r=this.newWord.eng;if(0==r.length)return!1;1==r.length&&this.getAutoWords(r),r.length>1&&this.lastkeydown1-e.timeStamp>200&&(this.wordList1=this.searchFromArray(this.wordData,r))}searchFromArray(e,r){let o,s=[];for(o=0;o<e.length;o++)e[o].match(r)&&s.push(e[o]);return s}onEnter(){let e=document.getElementById("WordIdFirstWay").value.trim();this.wordService.getSentence(e).then(r=>{this.sentenceAry=r,setTimeout(()=>{this.sentenceAry&&(this.newWord.sentence=this.sentenceAry[0])},100)}).catch(r=>{this.message=r}),this.wordService.getAWord(e).subscribe(r=>{const{row:s}=r;if(s)this.newWord=s;else{const{error:o}=r;this.message=o}}),this.wordList1=[]}itemSelected(e){this.newWord.eng=e,this.wordList1=[],document.getElementById("WordIdFirstWay").focus(),setTimeout(()=>{this.onEnter()},100)}Add2List(){this.wordAry.push(this.newWord),this.newWord={wdId:"",eng:"",chi:"",grade:"",sentence:""},this.message="",this.sentenceAry=[]}Save2Local(){return this.authService.setPrjItem("exWords",JSON.stringify(this.wordAry)),!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.$),t.Y36(d.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-selfwords"]],decls:27,vars:9,consts:[[1,"mainDiv"],[4,"ngIf"],["queryForm","ngForm"],["role","alert","class","alert alert-danger",3,"click",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","id","WordIdFirstWay","name","WordIdFirstWay","autocapitalize","none",1,"form-control",3,"ngModel","keyup.enter","keyup","ngModelChange"],[1,"sub-list"],["id","chi","name","chi","rows","3 ",1,"form-control",3,"ngModel","ngModelChange"],["class","input-group fMargin ",4,"ngIf"],[1,"navbar","fixed-bottom","foot2nd"],[1,"row"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","class","btn btn-success","title","\u52a0\u5165\u5b57\u5eab",3,"click",4,"ngIf"],["type","button","class","btn btn-success","title","\u52a0\u5165\u672c\u6b21\u5b57\u5eab\uff0c\u4e0a\u6b21\u5132\u5b58\u4e4b\u5b57\u5eab\u6703\u88ab\u6e05\u9664",3,"click",4,"ngIf"],["role","alert",1,"alert","alert-danger",3,"click"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],[1,"form-control"],[4,"ngFor","ngForOf"],["id","sentens","name","sentens",1,"form-control",3,"ngModel","ngModelChange"],["type","button","title","\u52a0\u5165\u5b57\u5eab",1,"btn","btn-success",3,"click"],["type","button","title","\u52a0\u5165\u672c\u6b21\u5b57\u5eab\uff0c\u4e0a\u6b21\u5132\u5b58\u4e4b\u5b57\u5eab\u6703\u88ab\u6e05\u9664",1,"btn","btn-success",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"\u82f1\u6587\u55ae\u5b57\u81ea\u5df1\u8f38\u5165"),t.YNc(3,v,2,0,"span",1),t.qZA(),t.TgZ(4,"form",null,2),t.YNc(6,k,2,1,"div",3),t.TgZ(7,"div",4)(8,"div",5)(9,"span",6),t._uU(10,"\u82f1\u6587\uff1a"),t.qZA()(),t.TgZ(11,"input",7),t.NdJ("keyup.enter",function(){return r.onEnter()})("keyup",function(o){return r.getWordIdsFirstWay(o)})("ngModelChange",function(o){return r.newWord.eng=o}),t.qZA(),t.TgZ(12,"div",8),t._UZ(13,"br"),t.YNc(14,q,2,1,"ul",1),t.qZA()(),t.TgZ(15,"div",4)(16,"div",5)(17,"span",6),t._uU(18,"\u4e2d\u6587\uff1a"),t.qZA()(),t.TgZ(19,"textarea",9),t.NdJ("ngModelChange",function(o){return r.newWord.chi=o}),t.qZA()(),t.YNc(20,O,6,1,"div",10),t.YNc(21,U,6,2,"div",10),t.qZA(),t.TgZ(22,"div",11)(23,"div",12)(24,"div",13),t.YNc(25,E,2,0,"button",14),t.YNc(26,N,2,0,"button",15),t.qZA()()()()),2&e&&(t.xp6(3),t.Q6J("ngIf",r.isMobile),t.xp6(3),t.Q6J("ngIf",r.message),t.xp6(5),t.Q6J("ngModel",r.newWord.eng),t.xp6(3),t.Q6J("ngIf",r.wordList1),t.xp6(5),t.Q6J("ngModel",r.newWord.chi),t.xp6(1),t.Q6J("ngIf",r.wordAry.length>0),t.xp6(1),t.Q6J("ngIf",r.sentenceAry.length>0),t.xp6(4),t.Q6J("ngIf",r.newWord.chi),t.xp6(1),t.Q6J("ngIf",r.wordAry.length>0))},dependencies:[u.sg,u.O5,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c.JJ,c.JL,c.On,c.F],styles:[".foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.left[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.right[_ngcontent-%COMP%]{text-align:right;padding-right:15px}.center[_ngcontent-%COMP%]{text-align:center;overflow-wrap:normal}.clm1[_ngcontent-%COMP%]{width:30%}.clm2[_ngcontent-%COMP%]{width:70%}.full[_ngcontent-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]{padding:0 12px;margin:0 5px}ul[_ngcontent-%COMP%]{border-radius:3px;left:0;list-style:none;margin:0;padding:0;position:absolute;width:100%;top:100%;z-index:10000;overflow:hidden;font-size:12px;width:440px;max-height:34vh;overflow-y:scroll}li[_ngcontent-%COMP%]{display:flex;min-height:28px;padding-top:16px;padding-left:25px;padding-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1);font-size:18px;color:red;background-color:#fff}.autocomplete[_ngcontent-%COMP%]{position:absolute}.sub-list[_ngcontent-%COMP%]{position:fixed;margin-top:3px;z-index:5000;margin-left:100px}"]}),n})();function Y(n,i){if(1&n&&(t.TgZ(0,"tr",12)(1,"td",13)(2,"span",14),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.message)}}function Q(n,i){if(1&n&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("\u932f\u8aa4\u6578\uff1a",e.errCount,"")}}function P(n,i){if(1&n&&(t.TgZ(0,"tr",15)(1,"td",16)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"td",17),t.YNc(5,Q,2,1,"span",18),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.AsE("",e.wIndex,"/",e.wordAry.length,""),t.xp6(2),t.Q6J("ngIf",e.errCount>0)}}function D(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",3)(2,"h4"),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.currentWord.chi)}}function j(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",22),t.NdJ("click",function(){const o=t.CHM(e).index,a=t.oxw(2);return t.KtG(a.onSelected(o))}),t.TgZ(1,"td"),t._UZ(2,"input",23),t.qZA(),t.TgZ(3,"td")(4,"span",24),t._uU(5),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(5),t.Oqu(e)}}function L(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",20)(2,"table"),t.YNc(3,j,6,1,"tr",21),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.currentChiAns.chiary)}}function $(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",25),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.reset())}),t._uU(1,"\u91cd\u4f5c"),t.qZA()}}function z(n,i){if(1&n&&(t.TgZ(0,"button",26),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errCorrect,"")}}class H{constructor(){this.chiary=[],this.chilist=(i,e)=>{this.chiary=i.split(","),this.ans=parseInt(this.chiary[3]),this.chiary[3]=this.chiary[this.ans],this.chiary[this.ans]=e},this.ok=(i,e)=>i===e}}let G=(()=>{class n{constructor(e,r){this.authService=e,this.wordService=r,this.message="",this.wordAry=[],this.wIndex=1,this.ChiAnsList=[],this.errCount=0,this.errCorrect="",this.redoFlag=!1,this.wordAry=JSON.parse(e.getPrjItem("exWords"))}ngOnInit(){this.currentWord=this.wordAry[this.wIndex-1],this.seizeChiStr(),this.utterThis=new SpeechSynthesisUtterance,this.utterThis.lang="en-US",this.utterThis.rate=.9,this.utterThis.pitch=1,this.speakEng()}speakEng(){this.currentWord?(this.utterThis.text=this.currentWord.eng,speechSynthesis.speak(this.utterThis)):this.message=this.wIndex.toString()}seizeChiStr(){const e=this.wIndex-1;this.ChiAnsList.length<this.wIndex?this.wordService.seizeChiStr(1).then(r=>{const s=r;this.ChiAnsList.push(new H),this.ChiAnsList[e].chilist(s[0].toString(),this.currentWord.chi),this.currentChiAns=this.ChiAnsList[e]}):this.currentChiAns=this.ChiAnsList[e]}onSelected(e){this.currentChiAns.selectChi=e,this.currentChiAns.ok(this.currentChiAns.ans,this.currentChiAns.selectChi)?(this.message="\u6b63\u78ba",this.errCorrect=""):(this.errCount++,this.message="\u932f\u8aa4",this.errCorrect=`${this.currentWord.eng}(${this.currentWord.chi})`),this.wIndex===this.wordAry.length?(this.message=`\u5b8c\u6210\uff1a\u6b63\u78ba(${this.wordAry.length-this.errCount})`,this.redoFlag=!0):(this.currentWord=this.wordAry[this.wIndex++],this.seizeChiStr(),this.speakEng())}reset(){this.wIndex=1,this.currentWord=this.wordAry[0],this.errCount=0,this.redoFlag=!1,this.seizeChiStr(),this.errCorrect="",this.message=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.$),t.Y36(d.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-wordselect"]],decls:20,vars:7,consts:[[1,"mainDiv"],[1,"row"],[1,"col-12"],["colspan","2",1,"center","rowSpace"],["class","rowSpace",4,"ngIf"],["class","mainSpace",4,"ngIf"],["colspan","2",1,"text-center","mainSpace"],[4,"ngIf"],[1,"navbar","fixed-bottom","foot2nd"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger","style","margin-left: 20px;",4,"ngIf"],[1,"rowSpace"],["colspan","2",1,"center"],[1,"alert","alert-danger"],[1,"mainSpace"],[1,"left"],[1,"right"],["class","justify-content-end",4,"ngIf"],[1,"justify-content-end"],["colspan","2",1,"left","rowSpace"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["type","radio","name","choice","value","i",2,"margin-left","30px"],[1,"itemLeft"],["type","button",1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",2,"margin-left","20px"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"tr")(4,"td",3)(5,"h2"),t._uU(6,"\u9078\u53d6\u6b63\u78ba\u7684\u4e2d\u6587"),t.qZA()()(),t.YNc(7,Y,4,1,"tr",4),t.YNc(8,P,6,3,"tr",5),t.TgZ(9,"tr")(10,"td",6)(11,"h4"),t._uU(12),t.qZA()()(),t.YNc(13,D,4,1,"tr",7),t.YNc(14,L,4,1,"tr",7),t.qZA(),t.TgZ(15,"div",8)(16,"div",1)(17,"div",9),t.YNc(18,$,2,0,"button",10),t.YNc(19,z,2,1,"button",11),t.qZA()()()()()),2&e&&(t.xp6(7),t.Q6J("ngIf",r.message),t.xp6(1),t.Q6J("ngIf",r.wordAry),t.xp6(4),t.Oqu(r.currentWord.eng),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",r.currentChiAns),t.xp6(4),t.Q6J("ngIf",r.redoFlag),t.xp6(1),t.Q6J("ngIf",r.errCorrect))},dependencies:[u.sg,u.O5],styles:[".foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.left[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.right[_ngcontent-%COMP%]{text-align:right;padding-right:15px}.center[_ngcontent-%COMP%]{text-align:center}.itemLeft[_ngcontent-%COMP%]{padding-right:15px;margin-left:15px}.chiLeft[_ngcontent-%COMP%]{padding-right:30px}.rowSpace[_ngcontent-%COMP%]{margin:10px;padding:10px}.mainSpace[_ngcontent-%COMP%]{margin:20px;padding:20px}"]}),n})(),K=(()=>{class n{constructor(){}canDeactivate(e,r,s,o){return!(e.wordAry.length>0&&confirm("\u5373\u5c07\u96e2\u958b\u7db2\u9801\uff0c\u5b57\u5eab\u5c1a\u672a\u5132\u5b58\uff0c\u8981\u5132\u5b58\u518d\u96e2\u958b\u55ce?"))||e.Save2Local()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function R(n,i){if(1&n&&(t.TgZ(0,"tr",4)(1,"td",3)(2,"span",16),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.message)}}function X(n,i){if(1&n&&(t.TgZ(0,"span",20),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("\u932f\u8aa4\u6578\uff1a",e.errCount,"")}}function V(n,i){if(1&n&&(t.TgZ(0,"tr",4)(1,"td",17)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"td",18),t.YNc(5,X,2,1,"span",19),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.AsE("",e.wIndex,"/",e.wordAry.length,""),t.xp6(2),t.Q6J("ngIf",e.errCount>0)}}function tt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.reset())}),t._uU(1,"\u91cd\u4f5c"),t.qZA()}}function et(n,i){if(1&n&&(t.TgZ(0,"button",22),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errCorrect,"")}}let nt=(()=>{class n{constructor(e,r){this.router=e,this.authService=r,this.wIndex=1,this.errCount=0,this.message="",this.errCorrect="",this.redoFlag=!1,this.wordAry=JSON.parse(r.getPrjItem("exWords"))}ngOnInit(){this.authService.isLoggedIn()||this.router.navigateByUrl("/general/login"),this.utterThis=new SpeechSynthesisUtterance,this.utterThis.lang="en-US",this.utterThis.rate=.9,this.utterThis.pitch=1,this.checkSuport(),this.reset()}checkSuport(){this.message=speechSynthesis?"\u700f\u89bd\u5668\u652f\u63f4\u82f1\u6587\u767c\u97f3":"\u700f\u89bd\u5668\u4e0d\u652f\u63f4\u82f1\u6587\u767c\u97f3\uff0c\u6539\u7528Chrome"}speakEng(){this.currentWord?(this.utterThis.text=this.currentWord.eng,speechSynthesis.speak(this.utterThis)):this.message=this.wIndex.toString()}reset(){this.wIndex=1,this.currentWord=this.wordAry[this.wIndex-1],this.total=this.wordAry.length,this.errCount=0,this.errCorrect="",this.redoFlag=!1,this.speakEng()}onEnter(){if(this.exWord===this.currentWord.eng?(this.message="\u6b63\u78ba",this.errCorrect=""):(this.message="\u932f\u8aa4",this.errCount++,this.errCorrect=`${this.currentWord.eng}(${this.currentWord.chi})`),this.wIndex===this.wordAry.length){const e=Math.floor((this.wordAry.length-this.errCount)/this.wordAry.length*100);this.message=`\u6e2c\u9a57\u7d50\u675f\uff0c\u5206\u6578\uff1a${e}`,this.redoFlag=!0}else this.wIndex++,this.currentWord=this.wordAry[this.wIndex-1],this.speakEng();this.exWord=""}repeat(){this.currentWord&&(this.utterThis.text=this.currentWord.eng,speechSynthesis.speak(this.utterThis))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0),t.Y36(h.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testspell"]],decls:23,vars:6,consts:[[1,"mainDiv"],[1,"row"],[1,"col-12"],[1,"text-center"],[1,"rowSpace"],["class","rowSpace",4,"ngIf"],[1,"text-center","rowSpace"],[2,"font-size","larger"],["src","../../../../assets/image/speaker.png",3,"click"],[1,"fMargin"],["type","text","autocapitalize","none",1,"mainWord",3,"ngModel","ngModelChange","keyup.enter"],["id","tDiv",1,"col-12"],[1,"navbar","fixed-bottom","foot2nd"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger","style","margin-left: 20px;",4,"ngIf"],[1,"alert","alert-danger"],[1,"left"],[1,"right"],["class","justify-content-end",4,"ngIf"],[1,"justify-content-end"],["type","button",1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",2,"margin-left","20px"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"tr")(4,"td",3)(5,"h2",4),t._uU(6,"\u82f1\u6587\u62fc\u5b57\u6e2c\u9a57"),t.qZA()()(),t.YNc(7,R,4,1,"tr",5),t.YNc(8,V,6,3,"tr",5),t.TgZ(9,"tr")(10,"td",6)(11,"span",7)(12,"img",8),t.NdJ("click",function(){return r.repeat()}),t.qZA(),t._uU(13),t.qZA()()(),t.TgZ(14,"tr",9)(15,"td",6)(16,"input",10),t.NdJ("ngModelChange",function(o){return r.exWord=o})("keyup.enter",function(){return r.onEnter()}),t.qZA()()()(),t._UZ(17,"div",11),t.qZA(),t.TgZ(18,"div",12)(19,"div",1)(20,"div",13),t.YNc(21,tt,2,0,"button",14),t.YNc(22,et,2,1,"button",15),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("ngIf",r.message),t.xp6(1),t.Q6J("ngIf",r.wordAry),t.xp6(5),t.hij(" ",r.currentWord.chi,""),t.xp6(3),t.Q6J("ngModel",r.exWord),t.xp6(5),t.Q6J("ngIf",r.redoFlag),t.xp6(1),t.Q6J("ngIf",r.errCorrect))},dependencies:[u.O5,c.Fj,c.JJ,c.On],styles:[".foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.mainWord[_ngcontent-%COMP%]{margin-top:50px;border-radius:4px;background-color:#dcdcdc}.rowSpace[_ngcontent-%COMP%]{margin:10px;padding:10px}"]}),n})();function rt(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",9),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.message)}}function it(n,i){if(1&n&&(t.TgZ(0,"span",13),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("\u932f\u8aa4\u6578\uff1a",e.errCount,"")}}function st(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",10)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"td",10)(5,"h4"),t._uU(6),t.qZA()(),t.TgZ(7,"td",11),t.YNc(8,it,2,1,"span",12),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.AsE("",e.wIndex,"/",e.wordAry.length,""),t.xp6(3),t.Oqu(e.currentWord.eng),t.xp6(2),t.Q6J("ngIf",e.errCount>0)}}function ot(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",3)(2,"h4"),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.currentWord.chi)}}function ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",16),t.NdJ("click",function(){const o=t.CHM(e).index,a=t.oxw(2);return t.KtG(a.onSelected(o))}),t.TgZ(1,"td"),t._UZ(2,"input",17),t.qZA(),t.TgZ(3,"td")(4,"span",18),t._uU(5),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(5),t.Oqu(e)}}function ut(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",14)(2,"table"),t.YNc(3,ct,6,1,"tr",15),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngForOf",e.currentChiAns.chiary)}}function lt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.reset())}),t._uU(1,"\u91cd\u4f5c"),t.qZA()}}function ht(n,i){if(1&n&&(t.TgZ(0,"button",20),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errCorrect,"")}}class pt{constructor(){this.chiary=[],this.chilist=(i,e)=>{this.chiary=i.split(","),this.ans=parseInt(this.chiary[3]),this.chiary[3]=this.chiary[this.ans],this.chiary[this.ans]=e},this.ok=(i,e)=>i===e}}function dt(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",3)(2,"span",13),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.message)}}function gt(n,i){if(1&n&&(t.TgZ(0,"tr",14)(1,"td",15)(2,"span"),t._uU(3),t.qZA()(),t.TgZ(4,"td",16)(5,"span",17),t._uU(6),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.AsE("",e.wIndex,"/",e.wordAry.length,""),t.xp6(3),t.hij("\u932f\u8aa4\u6578\uff1a",e.errCount,"")}}function _t(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",18)(2,"span"),t._uU(3),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(e.currentWord.chi)}}function ft(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.reset())}),t._uU(1,"\u91cd\u4f5c"),t.qZA()}}function mt(n,i){if(1&n&&(t.TgZ(0,"button",20),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.errCorrect,"")}}function xt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.hint())}),t._uU(1,"\u63d0\u793a"),t.qZA()}}const Ct=[{path:"",component:C},{path:"spellex",component:y},{path:"autospell",component:I},{path:"selfwordset",component:B,canDeactivate:[K]},{path:"engselectchiex",component:G},{path:"testspell",component:nt},{path:"testselectchi",component:(()=>{class n{constructor(e,r,s){this.router=e,this.authService=r,this.wordService=s,this.message="",this.wordAry=[],this.wIndex=1,this.ChiAnsList=[],this.errCount=0,this.errCorrect="",this.redoFlag=!1,this.wordAry=JSON.parse(r.getPrjItem("exWords"))}ngOnInit(){this.authService.isLoggedIn()||this.router.navigateByUrl("/general/login"),this.currentWord=this.wordAry[this.wIndex-1],this.seizeChiStr(),this.utterThis=new SpeechSynthesisUtterance,this.utterThis.lang="en-US",this.utterThis.rate=.9,this.utterThis.pitch=1,this.speakEng()}speakEng(){this.currentWord?(this.utterThis.text=this.currentWord.eng,speechSynthesis.speak(this.utterThis)):this.message=this.wIndex.toString()}seizeChiStr(){const e=this.wIndex-1;this.ChiAnsList.length<this.wIndex?this.wordService.seizeChiStr(1).then(r=>{const s=r;this.ChiAnsList.push(new pt),this.ChiAnsList[e].chilist(s[0].toString(),this.currentWord.chi),this.currentChiAns=this.ChiAnsList[e]}):this.currentChiAns=this.ChiAnsList[e]}onSelected(e){if(this.currentChiAns.selectChi=e,this.currentChiAns.ok(this.currentChiAns.ans,this.currentChiAns.selectChi)?(this.message="\u6b63\u78ba",this.errCorrect=""):(this.errCount++,this.message="\u932f\u8aa4",this.errCorrect=`${this.currentWord.eng}(${this.currentWord.chi})`),this.wIndex===this.wordAry.length){const r=Math.floor((this.wordAry.length-this.errCount)/this.wordAry.length*100);this.message=`\u6e2c\u9a57\u7d50\u675f\uff0c\u5206\u6578\uff1a${r}`,this.redoFlag=!0}else this.currentWord=this.wordAry[this.wIndex++],this.seizeChiStr(),this.speakEng()}reset(){this.wIndex=1,this.currentWord=this.wordAry[0],this.errCount=0,this.redoFlag=!1,this.seizeChiStr(),this.errCorrect="",this.message=""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0),t.Y36(h.$),t.Y36(d.c))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testselectchi"]],decls:16,vars:6,consts:[[1,"mainDiv"],[1,"row"],[1,"col-12"],["colspan","3",1,"center"],[4,"ngIf"],[1,"navbar","fixed-bottom","foot2nd"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger","style","margin-left: 20px;",4,"ngIf"],[1,"alert","alert-danger"],[1,"left"],[1,"right"],["class","justify-content-end",4,"ngIf"],[1,"justify-content-end"],["colspan","3",1,"left"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["type","radio","name","choice","value","i",2,"margin-left","30px"],[1,"itemLeft"],["type","button",1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",2,"margin-left","20px"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"tr")(4,"td",3)(5,"h2"),t._uU(6,"\u9078\u53d6\u6b63\u78ba\u7684\u4e2d\u6587\u5b57"),t.qZA()()(),t.YNc(7,rt,4,1,"tr",4),t.YNc(8,st,9,4,"tr",4),t.YNc(9,ot,4,1,"tr",4),t.YNc(10,ut,4,1,"tr",4),t.qZA(),t.TgZ(11,"div",5)(12,"div",1)(13,"div",6),t.YNc(14,lt,2,0,"button",7),t.YNc(15,ht,2,1,"button",8),t.qZA()()()()()),2&e&&(t.xp6(7),t.Q6J("ngIf",r.message),t.xp6(1),t.Q6J("ngIf",r.wordAry),t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("ngIf",r.currentChiAns),t.xp6(4),t.Q6J("ngIf",r.redoFlag),t.xp6(1),t.Q6J("ngIf",r.errCorrect))},dependencies:[u.sg,u.O5],styles:[".foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.left[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.right[_ngcontent-%COMP%]{text-align:right;padding-right:15px}.center[_ngcontent-%COMP%]{text-align:center}.itemLeft[_ngcontent-%COMP%]{padding-right:15px;margin-left:15px}.chiLeft[_ngcontent-%COMP%]{padding-right:30px}"]}),n})()},{path:"testfill",component:(()=>{class n{constructor(e,r,s){this.router=e,this.wordService=r,this.authService=s,this.wIndex=1,this.errCount=0,this.message="",this.errCorrect="",this.redoFlag=!1,this.hideWord="",this.chiHint=!1,this.wordAry=JSON.parse(s.getPrjItem("exWords"))}ngOnInit(){this.authService.isLoggedIn()||this.router.navigateByUrl("/general/login"),this.currentWord=this.wordAry[this.wIndex-1],this.currentWord.sentence||this.getSentence()}reset(){this.wIndex=1,this.errCount=0,this.redoFlag=!1,this.errCorrect="",this.message="",this.currentWord=this.wordAry[this.wIndex-1],this.currentWord.sentence||this.getSentence(),this.total=this.wordAry.length}onEnter(){if(this.errCorrect="",this.chiHint=!1,this.exWord===this.currentWord.eng?(this.message="\u6b63\u78ba",this.errCorrect=""):(this.message="\u932f\u8aa4",this.errCount++,this.errCorrect=`${this.currentWord.eng}(${this.currentWord.chi})`),this.wIndex===this.wordAry.length){const e=Math.floor((this.wordAry.length-this.errCount)/this.wordAry.length*100);this.message=`\u6e2c\u9a57\u7d50\u675f\uff0c\u5206\u6578\uff1a${e}`,this.redoFlag=!0}else this.wIndex++,this.currentWord=this.wordAry[this.wIndex-1],this.currentWord.sentence||this.getSentence();this.exWord=""}getSentence(){this.wordService.getASentence(this.currentWord.eng).then(r=>{const s=r,o=s.word.indexOf(this.currentWord.eng)>-1?this.currentWord.eng:this.currentWord.eng.charAt(0).toUpperCase()+this.currentWord.eng.substr(1);this.currentWord.eng=o,this.getHideWord(o,a=>{this.currentWord.sentence=s.word.replace(o,a)})}).catch(r=>{this.message=r,console.log(r)})}getHideWord(e,r){if(e.length>5){this.hideWord=e.substr(0,1);for(let s=1;s<=e.length;s++)s===e.length?(this.hideWord+=e.substr(e.length-1),r(this.hideWord)):this.hideWord+="_"}else{this.hideWord="_";for(let s=1;s<=e.length;s++)s===e.length?(this.hideWord+="_",r(this.hideWord)):this.hideWord+="_"}}hint(){this.chiHint=!this.chiHint}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(p.F0),t.Y36(d.c),t.Y36(h.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-testfill"]],decls:23,vars:8,consts:[[1,"mainDiv"],[1,"row"],[1,"col-12"],["colspan","2",1,"text-center","rowSpace"],[4,"ngIf"],["class","rowSpace",4,"ngIf"],["colspan","2",1,"text-left","rowSpace"],["colspan","2",1,"text-center"],["type","text","autocapitalize","none",1,"mainWord",3,"ngModel","ngModelChange","keyup.enter"],[1,"navbar","fixed-bottom","foot2nd"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button","class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger","style","margin-left: 20px;",4,"ngIf"],[1,"alert","alert-danger"],[1,"rowSpace"],[1,"text-left"],[1,"text-right"],[1,"justify-content-end"],["colspan","2",1,"text-right"],["type","button",1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",2,"margin-left","20px"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"tr")(4,"td",3)(5,"h2"),t._uU(6,"\u55ae\u5b57\u586b\u7a7a\u6e2c\u9a57"),t.qZA()()(),t.YNc(7,dt,4,1,"tr",4),t.YNc(8,gt,7,3,"tr",5),t.TgZ(9,"tr")(10,"td",6)(11,"h4"),t._uU(12),t.qZA()()(),t.YNc(13,_t,4,1,"tr",4),t.TgZ(14,"tr")(15,"td",7)(16,"input",8),t.NdJ("ngModelChange",function(o){return r.exWord=o})("keyup.enter",function(){return r.onEnter()}),t.qZA()()()()(),t.TgZ(17,"div",9)(18,"div",1)(19,"div",10),t.YNc(20,ft,2,0,"button",11),t.YNc(21,mt,2,1,"button",12),t.YNc(22,xt,2,0,"button",11),t.qZA()()()()),2&e&&(t.xp6(7),t.Q6J("ngIf",r.message),t.xp6(1),t.Q6J("ngIf",r.wordAry),t.xp6(4),t.Oqu(r.currentWord.sentence),t.xp6(1),t.Q6J("ngIf",r.chiHint),t.xp6(3),t.Q6J("ngModel",r.exWord),t.xp6(4),t.Q6J("ngIf",r.redoFlag),t.xp6(1),t.Q6J("ngIf",r.errCorrect),t.xp6(1),t.Q6J("ngIf",!r.redoFlag))},dependencies:[u.O5,c.Fj,c.JJ,c.On],styles:[".foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.mainWord[_ngcontent-%COMP%]{margin-top:10px;border-radius:4px;background-color:#dcdcdc}.rowSpace[_ngcontent-%COMP%]{margin:10px;padding:10px}"]}),n})()}];let wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[p.Bz.forChild(Ct),p.Bz]}),n})(),At=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.ez,wt,c.u5,c.UX]}),n})()}}]);