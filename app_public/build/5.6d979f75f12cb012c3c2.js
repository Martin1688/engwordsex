(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{yebe:function(e,t,n){"use strict";n.r(t),n.d(t,"GeneralModule",(function(){return U}));var r=n("ofXK"),o=n("tyNb"),i=n("fXoL"),s=n("ej43"),a=n("pLZG");let b=(()=>{class e{constructor(e){this.router=e,this.urls=[],this.router.events.pipe(Object(a.a)(e=>e instanceof o.a)).subscribe(e=>{this.urls=[...this.urls,e.urlAfterRedirects]})}getPreviousUrl(){const e=this.urls.length;return e>1?this.urls[e-2]:"/"}getLastNonLoginUrl(){const e=["/register","/login"],t=this.urls.filter(t=>!e.includes(t)),n=t.length;return n>1?t[n-1]:"/"}}return e.\u0275fac=function(t){return new(t||e)(i.Ob(o.b))},e.\u0275prov=i.Db({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=n("3Pt+");function c(e,t){if(1&e&&(i.Kb(0,"div",16),i.bc(1),i.Jb()),2&e){const e=i.Tb();i.xb(1),i.dc(" ",e.formError,"")}}const d=function(e,t){return{"fa-eye-slash":e,"fa-eye":t}};let p=(()=>{class e{constructor(e,t,n){this.router=e,this.authenticationService=t,this.historyService=n,this.formError="",this.credentials={name:"",email:"",password:"",role:"client",grade:"\u521d\u7d1a",memo:"",signdate:"",keep:!0},this.passwordTextType=!0,this.password2TextType=!0,this.password2content=""}ngOnInit(){}setPasswordText(){this.passwordTextType=!this.passwordTextType}setPassword2Text(){this.password2TextType=!this.password2TextType}onRegisterSubmit(){const e=this.password2content;this.formError="",this.credentials.name&&this.credentials.email&&this.credentials.password?e!==this.credentials.password?this.formError="\u5bc6\u78bc\u8207\u78ba\u8a8d\u5bc6\u78bc\u5fc5\u9808\u76f8\u540c":this.doRegister():this.formError="\u5168\u90e8\u6b04\u4f4d\u90fd\u662f\u5fc5\u586b\uff0c\u8acb\u518d\u8a66\u4e00\u6b21"}doRegister(){this.authenticationService.register(this.credentials).then(()=>this.router.navigateByUrl(this.historyService.getLastNonLoginUrl())).catch(e=>this.formError=e)}clearErr(){this.formError="",this.credentials.name=""}captalCase(e){return e?e.replace(/\w\S*/g,e=>e[0].toUpperCase()+e.substr(1).toLowerCase()):""}}return e.\u0275fac=function(t){return new(t||e)(i.Hb(o.b),i.Hb(s.a),i.Hb(b))},e.\u0275cmp=i.Bb({type:e,selectors:[["app-register"]],decls:39,vars:15,consts:[[1,"row"],[1,"col-12"],[1,"lead"],["routerLink","/general/login",1,"btn","btn-primary"],[3,"submit"],["role","alert","class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["type","email","id","name","name","name","placeholder","\u8f38\u5165 \u59d3\u540d ",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","email","name","email","placeholder","\u8f38\u5165 email ",1,"form-control",3,"ngModel","ngModelChange"],["id","password","name","password","placeholder","\u8f38\u5165\u5bc6\u78bc","autocomplete","off",1,"form-control",3,"type","ngModel","ngModelChange"],[1,"input-group-append"],[1,"fa",3,"ngClass","click"],["id","password2","name","password2","placeholder","\u78ba\u8a8d\u5bc6\u78bc","autocomplete","off",1,"form-control",3,"type","ngModel","ngModelChange"],["type","submit","role","button",1,"btn","btn-primary","fMargin"],["role","alert",1,"alert","alert-danger"]],template:function(e,t){1&e&&(i.Ib(0,"br"),i.Ib(1,"br"),i.Ib(2,"br"),i.Kb(3,"div",0),i.Kb(4,"div",1),i.Kb(5,"p",2),i.bc(6,"\u5982\u679c\u5df2\u7d93\u662f\u6703\u54e1\u8acb\u76f4\u63a5 "),i.Kb(7,"a",3),i.bc(8,"\u767b \u5165"),i.Jb(),i.Jb(),i.Kb(9,"form",4),i.Rb("submit",(function(){return t.onRegisterSubmit()})),i.ac(10,c,2,1,"div",5),i.Kb(11,"div",6),i.Kb(12,"div",7),i.Kb(13,"span",8),i.bc(14,"\u59d3 \u540d\uff1a"),i.Jb(),i.Jb(),i.Kb(15,"input",9),i.Rb("ngModelChange",(function(e){return t.credentials.name=e})),i.Jb(),i.Jb(),i.Kb(16,"div",6),i.Kb(17,"div",7),i.Kb(18,"span",8),i.bc(19,"Email\uff1a"),i.Jb(),i.Jb(),i.Kb(20,"input",10),i.Rb("ngModelChange",(function(e){return t.credentials.email=e})),i.Jb(),i.Jb(),i.Kb(21,"div",6),i.Kb(22,"div",7),i.Kb(23,"span",8),i.bc(24,"\u5bc6 \u78bc\uff1a"),i.Jb(),i.Jb(),i.Kb(25,"input",11),i.Rb("ngModelChange",(function(e){return t.credentials.password=e})),i.Jb(),i.Kb(26,"div",12),i.Kb(27,"span",8),i.Kb(28,"i",13),i.Rb("click",(function(){return t.setPasswordText()})),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Kb(29,"div",6),i.Kb(30,"div",7),i.Kb(31,"span",8),i.bc(32,"\u78ba \u8a8d\uff1a"),i.Jb(),i.Jb(),i.Kb(33,"input",14),i.Rb("ngModelChange",(function(e){return t.password2content=e})),i.Jb(),i.Kb(34,"div",12),i.Kb(35,"span",8),i.Kb(36,"i",13),i.Rb("click",(function(){return t.setPassword2Text()})),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Kb(37,"button",15),i.bc(38,"\u8a3b\u518a"),i.Jb(),i.Jb(),i.Jb(),i.Jb()),2&e&&(i.xb(10),i.Ub("ngIf",t.formError),i.xb(5),i.Ub("ngModel",t.credentials.name),i.xb(5),i.Ub("ngModel",t.credentials.email),i.xb(5),i.Ub("type",t.passwordTextType?"password":"text")("ngModel",t.credentials.password),i.xb(3),i.Ub("ngClass",i.Vb(9,d,t.passwordTextType,!t.passwordTextType)),i.xb(5),i.Ub("type",t.password2TextType?"password":"text")("ngModel",t.password2content),i.xb(3),i.Ub("ngClass",i.Vb(12,d,t.password2TextType,!t.password2TextType)))},directives:[o.d,l.m,l.e,l.f,r.j,l.b,l.d,l.g,r.h],styles:[""]}),e})();function g(e,t){if(1&e&&(i.Kb(0,"div",20),i.bc(1),i.Jb()),2&e){const e=i.Tb();i.xb(1),i.dc(" ",e.formError,"")}}const u=function(e,t){return{"fa-eye-slash":e,"fa-eye":t}};let m=(()=>{class e{constructor(e,t,n){this.router=e,this.authenticationService=t,this.historyService=n,this.formError="",this.credentials={name:"",email:"",password:"",role:"client",grade:"\u521d\u7d1a",memo:"",signdate:"",keep:!0},this.passwordTextType=!0}ngOnInit(){this.authenticationService.getCurrentUser()?this.router.navigateByUrl("/words"):(this.credentials.email=this.authenticationService.getMail(),this.credentials.name=this.authenticationService.getName())}setPasswordText(){this.passwordTextType=!this.passwordTextType}onLoginSubmit(){this.formError="",this.credentials.email&&this.credentials.password?this.doLogin():this.formError="\u5168\u90e8\u6b04\u4f4d\u90fd\u5fc5\u586b"}doLogin(){this.credentials.name=this.credentials.name,this.authenticationService.login(this.credentials).then(()=>{document.location.reload()}).catch(e=>{this.formError=e})}clearErr(){this.formError="",this.credentials.name=""}captalCase(e){return e?e.replace(/\w\S*/g,e=>e[0].toUpperCase()+e.substr(1).toLowerCase()):""}}return e.\u0275fac=function(t){return new(t||e)(i.Hb(o.b),i.Hb(s.a),i.Hb(b))},e.\u0275cmp=i.Bb({type:e,selectors:[["app-login"]],decls:36,vars:9,consts:[[1,"text-center","text-danger"],[1,"row"],[1,"col-12"],[3,"submit"],[1,"lead"],["routerLink","/general/register",1,"btn","btn-primary"],["role","alert","class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["type","email","id","email","name","email","placeholder","\u8f38\u5165 email ",1,"form-control",3,"ngModel","ngModelChange"],["id","password","name","password","placeholder","\u8f38\u5165\u5bc6\u78bc","autocomplete","off",1,"form-control",3,"type","ngModel","ngModelChange"],[1,"input-group-append"],[1,"fa",3,"ngClass","click"],[1,"col-12","fMargin"],["type","checkbox","name","keepLocal",3,"ngModel","ngModelChange"],["for","keepLocal"],["role","group","aria-label","Basic example",1,"btn-group"],["type","submit","role","button",1,"btn","btn-primary"],["routerLink","/general/resetpws",1,"btn","btn-primary",2,"margin-left","80px"],["role","alert",1,"alert","alert-danger"]],template:function(e,t){1&e&&(i.Ib(0,"br"),i.Ib(1,"br"),i.Ib(2,"br"),i.Kb(3,"h2",0),i.bc(4,"\u767b\u5165\u9801"),i.Jb(),i.Kb(5,"div",1),i.Kb(6,"div",2),i.Kb(7,"form",3),i.Rb("submit",(function(){return t.onLoginSubmit()})),i.Kb(8,"p",4),i.bc(9,"\u4e0d\u662f\u6703\u54e1\u8acb\u5148 "),i.Kb(10,"a",5),i.bc(11,"\u8a3b \u518a"),i.Jb(),i.Jb(),i.ac(12,g,2,1,"div",6),i.Kb(13,"div",7),i.Kb(14,"div",8),i.Kb(15,"span",9),i.bc(16,"Email\uff1a"),i.Jb(),i.Jb(),i.Kb(17,"input",10),i.Rb("ngModelChange",(function(e){return t.credentials.email=e})),i.Jb(),i.Jb(),i.Kb(18,"div",7),i.Kb(19,"div",8),i.Kb(20,"span",9),i.bc(21,"\u5bc6 \u78bc\uff1a"),i.Jb(),i.Jb(),i.Kb(22,"input",11),i.Rb("ngModelChange",(function(e){return t.credentials.password=e})),i.Jb(),i.Kb(23,"div",12),i.Kb(24,"span",9),i.Kb(25,"i",13),i.Rb("click",(function(){return t.setPasswordText()})),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Kb(26,"div",14),i.Kb(27,"input",15),i.Rb("ngModelChange",(function(e){return t.credentials.keep=e})),i.Jb(),i.Kb(28,"label",16),i.bc(29,"\u8a18\u4f4fEmail\uff0c\u4e0b\u6b21\u4e0d\u7528\u8f38\u5165"),i.Jb(),i.Jb(),i.Kb(30,"div",14),i.Kb(31,"div",17),i.Kb(32,"button",18),i.bc(33,"\u767b\u5165"),i.Jb(),i.Kb(34,"a",19),i.bc(35,"\u5fd8\u8a18\u5bc6\u78bc"),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Jb()),2&e&&(i.xb(12),i.Ub("ngIf",t.formError),i.xb(5),i.Ub("ngModel",t.credentials.email),i.xb(5),i.Ub("type",t.passwordTextType?"password":"text")("ngModel",t.credentials.password),i.xb(3),i.Ub("ngClass",i.Vb(6,u,t.passwordTextType,!t.passwordTextType)),i.xb(2),i.Ub("ngModel",t.credentials.keep))},directives:[l.m,l.e,l.f,o.d,r.j,l.b,l.d,l.g,r.h,l.a],styles:["h1[_ngcontent-%COMP%]{font-family:DFKai-sb;color:#b22222}"]}),e})();var h=n("FQVY"),f=n("N+FS");function J(e,t){if(1&e&&(i.Kb(0,"div",18),i.bc(1),i.Jb()),2&e){const e=i.Tb();i.xb(1),i.dc(" ",e.formError,"")}}function K(e,t){if(1&e){const e=i.Lb();i.Kb(0,"li",20),i.Rb("click",(function(){i.Xb(e);const n=t.$implicit;return i.Tb(2).itemSelected(n)})),i.bc(1),i.Jb()}if(2&e){const e=t.$implicit;i.xb(1),i.cc(e)}}function w(e,t){if(1&e&&(i.Kb(0,"ui"),i.ac(1,K,2,1,"li",19),i.Jb()),2&e){const e=i.Tb();i.xb(1),i.Ub("ngForOf",e.mailList1)}}function v(e,t){if(1&e&&(i.Kb(0,"option",21),i.bc(1),i.Jb()),2&e){const e=t.$implicit;i.Ub("ngValue",e),i.xb(1),i.cc(e)}}function x(e,t){if(1&e&&(i.Kb(0,"option",21),i.bc(1),i.Jb()),2&e){const e=t.$implicit;i.Ub("ngValue",e),i.xb(1),i.cc(e)}}function y(e,t){if(1&e&&(i.Kb(0,"div",12),i.bc(1),i.Jb()),2&e){const e=i.Tb();i.xb(1),i.dc(" ",e.formError,"")}}function M(e,t){if(1&e&&(i.Kb(0,"div",14),i.bc(1),i.Jb()),2&e){const e=i.Tb();i.xb(1),i.dc(" ",e.formError,"")}}function T(e,t){if(1&e&&(i.Kb(0,"div",15),i.bc(1),i.Jb()),2&e){const e=i.Tb();i.xb(1),i.dc(" ",e.formError,"")}}const C=function(e,t){return{"fa-eye-slash":e,"fa-eye":t}},P=[{path:"register",component:p},{path:"login",component:m},{path:"admin",component:(()=>{class e{constructor(e,t,n,r){this.router=e,this.authService=t,this.generalService=n,this.wordsService=r,this.uploadFileName="",this.mailData=[],this.formError="",this.credentials={_id:"",name:"",email:"",password:"",role:"client",grade:"\u521d\u7d1a",memo:"",signdate:"",keep:!0},this.lastkeydown1=0,this.roleops=["client","user","admin"],this.gradeops=["\u521d\u7d1a","\u4e2d\u7d1a","\u4e2d\u9ad8\u7d1a"],this.isMobile=!1,this.user=this.authService.getCurrentUser()}ngOnInit(){this.authService.isLoggedIn()||this.router.navigateByUrl("/general/login"),this.lastkeydown1=(new Date).getTime(),this.getAutoMails(),this.isMobile=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}onSubmit(){this.generalService.updateUser(this.credentials).then(e=>{const{message:t}=e;this.formError=t},e=>{console.log("Something wrong here",e)})}onDelete(){this.generalService.deleteUser(this.credentials.email).then(e=>{const{message:t}=e;this.formError=t},e=>{console.log("Something wrong here",e)})}onEnter(){const e=this.credentials.email;e&&this.generalService.getAUser(e).then(e=>{const{grade:t,role:n,name:r,_id:o}=e;this.credentials.grade=t,this.credentials.name=r,this.credentials.role=n,this.credentials._id=o})}getAutoMails(){this.isMobile||this.generalService.mailAutoComp().then(e=>{this.retObj=e,Object.assign(this.mailData,this.retObj.ary)},e=>{console.log("Something wrong here",e)})}getMailsFirstWay(e){if(this.isMobile)return;if("Enter"===e.key)return;this.mailList1=[];const t=this.credentials.email;if(0==t.length)return!1;t.length>1&&this.lastkeydown1-e.timeStamp>200&&(this.mailList1=this.searchFromArray(this.mailData,t))}searchFromArray(e,t){let n,r=[];for(n=0;n<e.length;n++)e[n].match(t)&&r.push(e[n]);return r}itemSelected(e){this.credentials.email=e,this.mailList1=[],document.getElementById("email").focus()}}return e.\u0275fac=function(t){return new(t||e)(i.Hb(o.b),i.Hb(s.a),i.Hb(h.a),i.Hb(f.a))},e.\u0275cmp=i.Bb({type:e,selectors:[["app-admin"]],decls:39,vars:8,consts:[[1,"row"],[1,"col-12"],[1,"lead"],["class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text",3,"click"],["type","email","id","email","name","email","autocapitalize","none",1,"form-control",3,"ngModel","keyup.enter","keyup","ngModelChange"],[1,"sub-list"],[4,"ngIf"],[1,"input-group-text"],["type","email","id","name","name","name","placeholder","\u8f38\u5165 \u59d3\u540d ",1,"form-control",3,"ngModel","ngModelChange"],["id","grade","name","grade",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["id","role","name","role",1,"form-control",3,"ngModel","ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group","fMargin"],["type","button","role","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-success",2,"margin-left","100px",3,"click"],[1,"alert","alert-danger"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"ngValue"]],template:function(e,t){1&e&&(i.Ib(0,"br"),i.Ib(1,"br"),i.Ib(2,"br"),i.Kb(3,"div",0),i.Kb(4,"div",1),i.Kb(5,"p",2),i.bc(6,"\u641c\u5c0b\u4f7f\u7528\u8005 "),i.Jb(),i.ac(7,J,2,1,"div",3),i.Kb(8,"form"),i.Kb(9,"div",4),i.Kb(10,"div",5),i.Kb(11,"span",6),i.Rb("click",(function(){return t.credentials.email="",t.formError=""})),i.bc(12,"Email\uff1a"),i.Jb(),i.Jb(),i.Kb(13,"input",7),i.Rb("keyup.enter",(function(){return t.onEnter()}))("keyup",(function(e){return t.getMailsFirstWay(e)}))("ngModelChange",(function(e){return t.credentials.email=e})),i.Jb(),i.Kb(14,"div",8),i.Ib(15,"br"),i.ac(16,w,2,1,"ui",9),i.Jb(),i.Jb(),i.Kb(17,"div",4),i.Kb(18,"div",5),i.Kb(19,"span",10),i.bc(20,"\u59d3 \u540d\uff1a"),i.Jb(),i.Jb(),i.Kb(21,"input",11),i.Rb("ngModelChange",(function(e){return t.credentials.name=e})),i.Jb(),i.Jb(),i.Kb(22,"div",4),i.Kb(23,"div",5),i.Kb(24,"span",10),i.bc(25,"\u7d1a \u5225\uff1a"),i.Jb(),i.Jb(),i.Kb(26,"select",12),i.Rb("ngModelChange",(function(e){return t.credentials.grade=e})),i.ac(27,v,2,2,"option",13),i.Jb(),i.Jb(),i.Kb(28,"div",4),i.Kb(29,"div",5),i.Kb(30,"span",10),i.bc(31,"\u89d2 \u8272\uff1a"),i.Jb(),i.Jb(),i.Kb(32,"select",14),i.Rb("ngModelChange",(function(e){return t.credentials.role=e})),i.ac(33,x,2,2,"option",13),i.Jb(),i.Jb(),i.Kb(34,"div",15),i.Kb(35,"button",16),i.Rb("click",(function(){return t.onSubmit()})),i.bc(36,"\u4fee\u6539"),i.Jb(),i.Kb(37,"button",17),i.Rb("click",(function(){return t.onDelete()})),i.bc(38,"\u522a\u9664"),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Jb()),2&e&&(i.xb(7),i.Ub("ngIf",t.formError),i.xb(6),i.Ub("ngModel",t.credentials.email),i.xb(3),i.Ub("ngIf",t.mailList1),i.xb(5),i.Ub("ngModel",t.credentials.name),i.xb(5),i.Ub("ngModel",t.credentials.grade),i.xb(1),i.Ub("ngForOf",t.gradeops),i.xb(5),i.Ub("ngModel",t.credentials.role),i.xb(1),i.Ub("ngForOf",t.roleops))},directives:[r.j,l.m,l.e,l.f,l.b,l.d,l.g,l.k,r.i,l.h,l.l],styles:[".FClass[_ngcontent-%COMP%]{display:none;z-index:0}ul[_ngcontent-%COMP%]{border-radius:3px 3px 3px 3px;left:0;list-style:none;margin:0;padding:0;position:absolute;width:100%;top:100%;z-index:10000;overflow:hidden;font-size:12px;width:440px;max-height:34vh;overflow-y:scroll}li[_ngcontent-%COMP%]{display:flex;min-height:28px;padding-top:16px;padding-left:25px;padding-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1);font-size:18px;color:red;background-color:#fff}.autocomplete[_ngcontent-%COMP%]{position:absolute}.sub-list[_ngcontent-%COMP%]{position:fixed;margin-top:3px;z-index:5000;margin-left:100px}"]}),e})()},{path:"resetpws",component:(()=>{class e{constructor(e,t,n,r){this.router=e,this.authenticationService=t,this.generalService=n,this.historyService=r,this.formError="",this.userEmail=""}ngOnInit(){}onResetSubmit(){this.generalService.resetpws(this.userEmail).then(e=>{const{message:t}=e;this.formError=t,this.router.navigateByUrl("/general/login")}).catch(e=>{this.formError=e})}}return e.\u0275fac=function(t){return new(t||e)(i.Hb(o.b),i.Hb(s.a),i.Hb(h.a),i.Hb(b))},e.\u0275cmp=i.Bb({type:e,selectors:[["app-resetpassword"]],decls:18,vars:2,consts:[[1,"row"],[1,"col-12"],[3,"submit"],[1,"lead"],["role","alert","class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["type","email","id","email","name","email","placeholder","\u8f38\u5165 email ",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-12","fMargin"],["role","group","aria-label","Basic example",1,"btn-group"],["type","submit","role","button","title","\u91cd\u8a2d\u4e4b\u5f8c\u539f\u5148\u7684\u5bc6\u78bc\u5c31\u4e0d\u80fd\u7528\u4e86",1,"btn","btn-primary"],["role","alert",1,"alert","alert-danger"]],template:function(e,t){1&e&&(i.Ib(0,"br"),i.Ib(1,"br"),i.Ib(2,"br"),i.Kb(3,"div",0),i.Kb(4,"div",1),i.Kb(5,"form",2),i.Rb("submit",(function(){return t.onResetSubmit()})),i.Kb(6,"p",3),i.bc(7,"\u586b\u5165\u8a3b\u518a\u7684email\uff0c\u65b0\u5bc6\u78bc\u6703\u5bc4\u5230email\u4fe1\u7bb1"),i.Jb(),i.ac(8,y,2,1,"div",4),i.Kb(9,"div",5),i.Kb(10,"div",6),i.Kb(11,"span",7),i.bc(12,"Email\uff1a"),i.Jb(),i.Jb(),i.Kb(13,"input",8),i.Rb("ngModelChange",(function(e){return t.userEmail=e})),i.Jb(),i.Jb(),i.Kb(14,"div",9),i.Kb(15,"div",10),i.Kb(16,"button",11),i.bc(17,"\u91cd\u8a2d\u5bc6\u78bc"),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Jb()),2&e&&(i.xb(8),i.Ub("ngIf",t.formError),i.xb(5),i.Ub("ngModel",t.userEmail))},directives:[l.m,l.e,l.f,r.j,l.b,l.d,l.g],styles:[""]}),e})()},{path:"selfuserset",component:(()=>{class e{constructor(e,t){this.router=e,this.authService=t,this.credentials={name:"",email:"",password:"",role:"client",grade:"\u521d\u7d1a",memo:"",signdate:"",keep:!0},this.formError=""}ngOnInit(){this.credentials=this.authService.getCurrentUser()}downGrade(){"\u521d\u7d1a"===this.credentials.grade&&(this.formError="\u521d\u7d1a\u7121\u6cd5\u964d\u7d1a")}changePassword(){this.router.navigateByUrl("/general/changepws")}}return e.\u0275fac=function(t){return new(t||e)(i.Hb(o.b),i.Hb(s.a))},e.\u0275cmp=i.Bb({type:e,selectors:[["app-selfuserset"]],decls:36,vars:5,consts:[[1,"row"],[1,"col-12"],[1,"lead"],["role","alert","class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["type","email","id","name","name","name","placeholder","\u8f38\u5165 \u59d3\u540d ",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","email","name","email","placeholder","\u8f38\u5165 email ",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","grade","name","grade","placeholder","\u8f38\u5165 email ",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","role","name","role","placeholder","\u8f38\u5165 email ",1,"form-control",3,"ngModel","ngModelChange"],["role","group","aria-label","Basic example",1,"btn-group","fMargin"],["type","button",1,"btn","btn-success",3,"click"],["type","button",1,"btn","btn-success"],["role","alert",1,"alert","alert-danger"]],template:function(e,t){1&e&&(i.Ib(0,"br"),i.Ib(1,"br"),i.Ib(2,"br"),i.Kb(3,"div",0),i.Kb(4,"div",1),i.Kb(5,"form"),i.Kb(6,"p",2),i.bc(7,"\u4f7f\u7528\u8005\u5e33\u865f\u81ea\u6211\u7ba1\u7406"),i.Jb(),i.ac(8,M,2,1,"div",3),i.Kb(9,"div",4),i.Kb(10,"div",5),i.Kb(11,"span",6),i.bc(12,"\u59d3 \u540d\uff1a"),i.Jb(),i.Jb(),i.Kb(13,"input",7),i.Rb("ngModelChange",(function(e){return t.credentials.name=e})),i.Jb(),i.Jb(),i.Kb(14,"div",4),i.Kb(15,"div",5),i.Kb(16,"span",6),i.bc(17,"Email\uff1a"),i.Jb(),i.Jb(),i.Kb(18,"input",8),i.Rb("ngModelChange",(function(e){return t.credentials.email=e})),i.Jb(),i.Jb(),i.Kb(19,"div",4),i.Kb(20,"div",5),i.Kb(21,"span",6),i.bc(22,"\u7b49 \u7d1a\uff1a"),i.Jb(),i.Jb(),i.Kb(23,"input",9),i.Rb("ngModelChange",(function(e){return t.credentials.grade=e})),i.Jb(),i.Jb(),i.Kb(24,"div",4),i.Kb(25,"div",5),i.Kb(26,"span",6),i.bc(27,"\u89d2 \u8272\uff1a"),i.Jb(),i.Jb(),i.Kb(28,"input",10),i.Rb("ngModelChange",(function(e){return t.credentials.role=e})),i.Jb(),i.Jb(),i.Kb(29,"div",11),i.Kb(30,"button",12),i.Rb("click",(function(){return t.changePassword()})),i.bc(31,"\u4fee\u6539\u5bc6\u78bc"),i.Jb(),i.Kb(32,"button",13),i.bc(33,"\u5347\u7d1a"),i.Jb(),i.Kb(34,"button",12),i.Rb("click",(function(){return t.downGrade()})),i.bc(35,"\u964d\u7d1a"),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Jb()),2&e&&(i.xb(8),i.Ub("ngIf",t.formError),i.xb(5),i.Ub("ngModel",t.credentials.name),i.xb(5),i.Ub("ngModel",t.credentials.email),i.xb(5),i.Ub("ngModel",t.credentials.grade),i.xb(5),i.Ub("ngModel",t.credentials.role))},directives:[l.m,l.e,l.f,r.j,l.b,l.d,l.g],styles:[".foot2nd[_ngcontent-%COMP%]{margin-bottom:50px;background-color:#008b8b}.left[_ngcontent-%COMP%]{text-align:left;padding-left:15px}.right[_ngcontent-%COMP%]{text-align:right;padding-right:15px}.center[_ngcontent-%COMP%]{text-align:center;overflow-wrap:normal}.clm1[_ngcontent-%COMP%]{width:30%}.clm2[_ngcontent-%COMP%]{width:70%}.full[_ngcontent-%COMP%]{width:100%}.btn[_ngcontent-%COMP%]{padding:0 12px;margin:0 5px}"]}),e})()},{path:"changepws",component:(()=>{class e{constructor(e,t,n){this.generalService=e,this.router=t,this.authService=n,this.oldPassword="",this.newPassword="",this.credentials={name:"",email:"",password:"",role:"client",grade:"\u521d\u7d1a",memo:"",signdate:"",keep:!0},this.formError="",this.oldPasswordTextType=!0,this.passwordTextType=!0,this.newPasswordTextType=!0}ngOnInit(){this.credentials=this.authService.getCurrentUser()}onChangePassword(){this.credentials.password&&this.oldPassword&&this.newPassword?this.credentials.password!==this.newPassword?this.formError="\u65b0\u5bc6\u78bc\u8207\u518d\u78ba\u8a8d\u5bc6\u78bc\u5fc5\u9808\u76f8\u540c":this.generalService.changepws(this.credentials,this.oldPassword).then(e=>{const{message:t}=e;this.formError=t,this.router.navigateByUrl("/general/selfuserset")}).catch(e=>{this.formError=e}):this.formError="\u6240\u6709\u6b04\u4f4d\u90fd\u5fc5\u586b"}setNewPasswordText(){this.newPasswordTextType=!this.newPasswordTextType}setPasswordText(){this.passwordTextType=!this.passwordTextType}setOldPasswordText(){this.oldPasswordTextType=!this.oldPasswordTextType}}return e.\u0275fac=function(t){return new(t||e)(i.Hb(h.a),i.Hb(o.b),i.Hb(s.a))},e.\u0275cmp=i.Bb({type:e,selectors:[["app-changepws"]],decls:40,vars:20,consts:[[1,"row"],[1,"col-12"],[1,"lead"],[3,"submit"],["role","alert","class","alert alert-danger",4,"ngIf"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["type","email","id","email","name","email","placeholder","\u8f38\u5165 email ",1,"form-control",3,"ngModel","ngModelChange"],["id","oldPassword","name","oldPassword","placeholder","\u8f38\u5165\u820a\u5bc6\u78bc","autocomplete","off",1,"form-control",3,"type","ngModel","ngModelChange"],[1,"input-group-append"],[1,"fa",3,"ngClass","click"],["id","password","name","password","placeholder","\u8f38\u5165\u65b0\u5bc6\u78bc","autocomplete","off",1,"form-control",3,"type","ngModel","ngModelChange"],["id","password2","name","password2","placeholder","\u78ba\u8a8d\u65b0\u5bc6\u78bc","autocomplete","off",1,"form-control",3,"type","ngModel","ngModelChange"],["type","submit","role","button",1,"btn","btn-primary","fMargin"],["role","alert",1,"alert","alert-danger"]],template:function(e,t){1&e&&(i.Ib(0,"br"),i.Ib(1,"br"),i.Ib(2,"br"),i.Kb(3,"div",0),i.Kb(4,"div",1),i.Kb(5,"p",2),i.bc(6,"\u4fee\u6539\u500b\u4eba\u5bc6\u78bc "),i.Jb(),i.Kb(7,"form",3),i.Rb("submit",(function(){return t.onChangePassword()})),i.ac(8,T,2,1,"div",4),i.Kb(9,"div",5),i.Kb(10,"div",6),i.Kb(11,"span",7),i.bc(12,"Email\uff1a"),i.Jb(),i.Jb(),i.Kb(13,"input",8),i.Rb("ngModelChange",(function(e){return t.credentials.email=e})),i.Jb(),i.Jb(),i.Kb(14,"div",5),i.Kb(15,"div",6),i.Kb(16,"span",7),i.bc(17,"\u820a\u5bc6\u78bc\uff1a"),i.Jb(),i.Jb(),i.Kb(18,"input",9),i.Rb("ngModelChange",(function(e){return t.oldPassword=e})),i.Jb(),i.Kb(19,"div",10),i.Kb(20,"span",7),i.Kb(21,"i",11),i.Rb("click",(function(){return t.setOldPasswordText()})),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Kb(22,"div",5),i.Kb(23,"div",6),i.Kb(24,"span",7),i.bc(25,"\u65b0\u5bc6\u78bc\uff1a"),i.Jb(),i.Jb(),i.Kb(26,"input",12),i.Rb("ngModelChange",(function(e){return t.credentials.password=e})),i.Jb(),i.Kb(27,"div",10),i.Kb(28,"span",7),i.Kb(29,"i",11),i.Rb("click",(function(){return t.setPasswordText()})),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Kb(30,"div",5),i.Kb(31,"div",6),i.Kb(32,"span",7),i.bc(33,"\u518d\u78ba\u8a8d\uff1a"),i.Jb(),i.Jb(),i.Kb(34,"input",13),i.Rb("ngModelChange",(function(e){return t.newPassword=e})),i.Jb(),i.Kb(35,"div",10),i.Kb(36,"span",7),i.Kb(37,"i",11),i.Rb("click",(function(){return t.setNewPasswordText()})),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Kb(38,"button",14),i.bc(39,"\u9001\u51fa"),i.Jb(),i.Jb(),i.Jb(),i.Jb()),2&e&&(i.xb(8),i.Ub("ngIf",t.formError),i.xb(5),i.Ub("ngModel",t.credentials.email),i.xb(5),i.Ub("type",t.oldPasswordTextType?"password":"text")("ngModel",t.oldPassword),i.xb(3),i.Ub("ngClass",i.Vb(11,C,t.oldPasswordTextType,!t.oldPasswordTextType)),i.xb(5),i.Ub("type",t.passwordTextType?"password":"text")("ngModel",t.credentials.password),i.xb(3),i.Ub("ngClass",i.Vb(14,C,t.passwordTextType,!t.passwordTextType)),i.xb(5),i.Ub("type",t.newPasswordTextType?"password":"text")("ngModel",t.newPassword),i.xb(3),i.Ub("ngClass",i.Vb(17,C,t.newPasswordTextType,!t.newPasswordTextType)))},directives:[l.m,l.e,l.f,r.j,l.b,l.d,l.g,r.h],styles:[""]}),e})()},{path:"author",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Bb({type:e,selectors:[["app-author"]],decls:33,vars:0,consts:[[1,"mainDiv"],[1,"row"],[1,"col-sm-4",2,"display","flex","justify-content","center","align-items","center","border-radius","10px"],["src","../../../../assets/image/MartinPhotoDone.jpg",2,"border-radius","10pt"],[1,"col-sm-8"],[1,"input-group","fMargin"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text","id","author ","name","author ","value","\u6f58\u4e01\u745c ",1,"form-control"],["type","text","id","education","name","education","value","\u6771\u5433\u8cc7\u8a0a\u78a9\u58eb",1,"form-control"],["type","text","id","jobtitle","name","jobtitle","value","\u7db2\u7ad9\u8edf\u9ad4\u8a2d\u8a08Freelancer",1,"form-control"],["cols","3","id","explain","name","explain",1,"form-control"],["cols","3","id","purpose","name","purpose",1,"form-control"]],template:function(e,t){1&e&&(i.Kb(0,"div",0),i.Kb(1,"div",1),i.Kb(2,"div",2),i.Ib(3,"img",3),i.Jb(),i.Kb(4,"div",4),i.Kb(5,"div"),i.Kb(6,"div",5),i.Kb(7,"div",6),i.Kb(8,"span",7),i.bc(9,"\u4f5c\u8005\uff1a"),i.Jb(),i.Jb(),i.Ib(10,"input",8),i.Jb(),i.Kb(11,"div",5),i.Kb(12,"div",6),i.Kb(13,"span",7),i.bc(14,"\u5b78\u6b77\uff1a"),i.Jb(),i.Jb(),i.Ib(15,"input",9),i.Jb(),i.Kb(16,"div",5),i.Kb(17,"div",6),i.Kb(18,"span",7),i.bc(19,"\u8077\u696d\uff1a"),i.Jb(),i.Jb(),i.Ib(20,"input",10),i.Jb(),i.Kb(21,"div",5),i.Kb(22,"div",6),i.Kb(23,"span",7),i.bc(24,"\u7c21\u4ecb\uff1a"),i.Jb(),i.Jb(),i.Kb(25,"textarea",11),i.bc(26,"\u672c\u7db2\u7ad9\u63a1MEAN stack (MongoDB, Express, Angular, Node.js)\u8a2d\u8a08\uff1b\u672c\u7db2\u7ad9\u514d\u8cbb\u4f7f\u7528\uff0c\u9808\u5148\u8a3b\u518a\u767b\u5165\u5f8c\u624d\u80fd\u4f7f\u7528"),i.Jb(),i.Jb(),i.Kb(27,"div",5),i.Kb(28,"div",6),i.Kb(29,"span",7),i.bc(30,"\u7528\u9014\uff1a"),i.Jb(),i.Jb(),i.Kb(31,"textarea",12),i.bc(32,"\u672c\u7db2\u7ad9\u7528\u65bc\u8f14\u52a9\u80cc\u8aa6\u82f1\u6587\u55ae\u5b57\u8a08\u7d04\u8490\u96c6\u516b\u5343\u5b57\u5206\u521d\u7d1a\u4e2d\u7d1a\u8207\u4e2d\u9ad8\u7d1a"),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Jb(),i.Jb())},styles:["input[_ngcontent-%COMP%]:-moz-read-only{background-color:#dcdcdc}input[_ngcontent-%COMP%]:read-only{background-color:#dcdcdc}"]}),e})()},{path:"about",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Bb({type:e,selectors:[["app-about"]],decls:19,vars:0,consts:[[1,"mainDiv"],[1,"row"],[1,"col-sm-12"],[2,"font-size","large"],[1,"hint"]],template:function(e,t){1&e&&(i.Kb(0,"div",0),i.Kb(1,"div",1),i.Kb(2,"div",2),i.Kb(3,"h3"),i.bc(4,"\u4e00\u3001\u7c21\u4ecb"),i.Jb(),i.Kb(5,"p",3),i.bc(6,"\u672c\u7db2\u7ad9\u7528\u65bc\u8f14\u52a9\u80cc\u8aa6\u82f1\u6587\u55ae\u5b57\u8a08\u7d04\u8490\u96c6\u516b\u5343\u5b57\uff0c\u5206\u521d\u7d1a\u4e2d\u7d1a\u8207\u4e2d\u9ad8\u7d1a\uff1b\u5728\u5b78\u7fd2\u82f1\u6587\u6642\u82f1\u6587\u55ae\u5b57\u8207\u6587\u6cd5\u662f\u5169\u5927\u91cd\u9ede\uff0c\u672c\u7db2\u7ad9\u53ea\u7528\u65bc\u8f14\u52a9\u82f1\u6587\u55ae\u5b57\u80cc\u8aa6\uff0c\u5177\u5099\u55ae\u5b57\u4e2d\u6587\u89e3\u91cb\u53ca\u8aa6\u8b80\u529f\u80fd\uff0c\u4e2d\u6587\u89e3\u91cb\u4fc2\u53c3\u8003\u5168\u6c11\u82f1\u6aa2\u4e4b\u82f1\u6587\u55ae\u5b57\u89e3\u91cb\uff0c\u800c\u767c\u97f3\u5247\u662f\u4f7f\u7528html5\u7684\u767c\u97f3\u529f\u80fd\u3002\u672c\u7db2\u7ad9\u539f\u5148\u662f\u7d66\u81ea\u5df1\u5c0f\u5b69\u80cc\u8aa6\u82f1\u6587\u55ae\u5b57\u4f7f\u7528\uff0c\u4f7f\u7528\u5f8c\u6548\u679c\u9817\u4f73\u3002\u56e0\u6b64\u958b\u653e\u7d66\u7db2\u53cb\u6709\u80cc\u8aa6\u82f1\u6587\u9700\u5eab\u8005\u514d\u8cbb\u4f7f\u7528\u3002\u672c\u7db2\u7ad9\u63a1CI/CD\u65b9\u5f0f\u5229\u7528\u696d\u9918\u6642\u9593\u958b\u767c\uff0c\u6703\u6301\u7e8c\u4e0d\u65b7\u6539\u9032\uff0c\u589e\u52a0\u529f\u80fd\u3002"),i.Jb(),i.Kb(7,"h3"),i.bc(8,"\u4e8c\u3001\u7528\u6cd5\u7c21\u8ff0"),i.Jb(),i.Kb(9,"p",3),i.bc(10,"\u8981\u4f7f\u7528\u672c\u7db2\u7ad9\u5fc5\u9808\u5148\u8a3b\u518a\u6216\u767b\u5165\u5f8c\u624d\u80fd\u4f7f\u7528\uff0c\u767b\u5165\u5f8c\u52063\u6b69\u9a5f\u4f7f\u7528-\u8a2d\u5b9a\u3001\u7df4\u7fd2\u3001\u6e2c\u9a57\u4ee5\u9054\u5230\u6df1\u523b\u7d00\u61b6\u4e4b\u76ee\u6a19\uff1b\u8a2d\u5b9a\u5206\u5169\u7a2e\u4e00\u662f\u300c\u7df4\u7fd2\u8a2d\u5b9a\u300d\u9019\u662f\u7531\u8cc7\u6599\u5eab\u4e2d\u53d6\u51fa\u82f1\u6587\u55ae\u5b57\u4ee5\u4f9b\u7df4\u7fd2\u3002\u53e6\u4e00\u662f\u300c\u55ae\u5b57\u8f38\u5165\u8a2d\u5b9a\u300d\u7531\u4f7f\u7528\u8005\u81ea\u5df1\u8f38\u5165\u55ae\u5b57\uff0c\u4e3b\u8981\u7528\u9014\u662f\u7576\u5b78\u751f\u60f3\u7528\u65bc\u80cc\u8aa6\u82f1\u6587\u8ab2\u672c\u6216\u82f1\u6587\u96dc\u8a8c\u4e2d\u7684\u751f\u5b57\u6642\u4f5c\u70ba\u8f14\u52a9\u4e4b\u7528\u3002\u6709\u4e09\u7a2e\u8f14\u52a9\u65b9\u5f0f\u300c\u55ae\u5b57\u62fc\u5b57\u7df4\u7fd2\u300d\uff0c\u300c\u82f1\u9078\u4e2d\u7df4\u7fd2\u300d\uff0c\u300c\u81ea\u52d5\u8a9e\u97f3\u62fc\u5b57\u300d\uff0c\u6e2c\u9a57\u4e5f\u6709\u4e09\u7a2e\u300c\u55ae\u5b57\u62fc\u5b57\u6e2c\u9a57\u300d\uff0c\u300c\u82f1\u9078\u4e2d\u6e2c\u9a57\u300d\uff0c\u300c\u55ae\u5b57\u586b\u7a7a\u6e2c\u9a57\u300d\uff0c\u7576\u6e2c\u9a57\u90fd\u9054\u523090\u5206\u4ee5\u4e0a\u6642\u518d\u5230\u300c"),i.Kb(11,"span",4),i.bc(12,"\u8a2d\u5b9a/\u7df4\u7fd2\u8a2d\u5b9a"),i.Jb(),i.bc(13,"\u300d\u4e2d\u53bb\u6309\u4e0b\u300c "),i.Kb(14,"span",4),i.bc(15,"\u7df4\u7fd2\u5b8c\u6210"),i.Jb(),i.bc(16,"\u300d\u6309\u9215\u3002\u7db2\u9801\u6703\u5c07\u525b\u624d\u8a2d\u5b9a\u7684\u82f1\u6587\u55ae\u5b57\u7531\u8a18\u61b6\u9ad4\u4e2d\u6e05\u9664\u3002\u5c31\u53ef\u4ee5\u91cd\u65b0\u8a2d\u5b9a\u55ae\u5b57\u4f86\u7df4\u7fd2\u3002 "),i.Jb(),i.Ib(17,"br"),i.Ib(18,"br"),i.Jb(),i.Jb(),i.Jb())},styles:[".hint[_ngcontent-%COMP%]{background-color:maroon}"]}),e})()}];let E=(()=>{class e{}return e.\u0275mod=i.Fb({type:e}),e.\u0275inj=i.Eb({factory:function(t){return new(t||e)},imports:[[o.e.forChild(P)],o.e]}),e})(),U=(()=>{class e{}return e.\u0275mod=i.Fb({type:e}),e.\u0275inj=i.Eb({factory:function(t){return new(t||e)},imports:[[r.b,E,l.c,l.i]]}),e})()}}]);